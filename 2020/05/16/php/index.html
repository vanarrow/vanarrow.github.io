<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            php | 
        
        algae
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/download(1).png">
    <link rel="icon" href="/img/download(1).png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content="">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="algae">
    <meta name="msapplication-starturl" content="http://yoursite.com/2020/05/16/php/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="algae">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/download(1).png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2020/05/16/php/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="php | algae">
    <meta property="og:image" content="/img/download(1).png">
    <meta property="og:description" content="">
    

    
        <meta property="article:published_time" content="Sat May 16 2020 16:30:38 GMT+0800">
        <meta property="article:modified_time" content="Sat May 16 2020 16:52:23 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2020/05/16/php/index.html" />
    

    <!-- Structured-data for SEO -->
    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#PHP-能做什么"><span class="post-toc-number">1.</span> <span class="post-toc-text">PHP 能做什么</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二、基本语法"><span class="post-toc-number"></span> <span class="post-toc-text">二、基本语法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#指令分隔符"><span class="post-toc-number"></span> <span class="post-toc-text">指令分隔符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PHP-支持多种注释风格"><span class="post-toc-number"></span> <span class="post-toc-text">PHP 支持多种注释风格</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#三、数据类型（一）"><span class="post-toc-number"></span> <span class="post-toc-text">三、数据类型（一）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#整数溢出"><span class="post-toc-number"></span> <span class="post-toc-text">整数溢出</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#四、数据类型（二）"><span class="post-toc-number"></span> <span class="post-toc-text">四、数据类型（二）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Array-数组"><span class="post-toc-number"></span> <span class="post-toc-text">Array 数组</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#语法"><span class="post-toc-number">0.1.</span> <span class="post-toc-text">语法</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Object-对象"><span class="post-toc-number"></span> <span class="post-toc-text">Object 对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#转换为对象"><span class="post-toc-number">1.</span> <span class="post-toc-text">转换为对象</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Resource-资源"><span class="post-toc-number"></span> <span class="post-toc-text">Resource 资源</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#转换为资源"><span class="post-toc-number"></span> <span class="post-toc-text">转换为资源</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#释放资源"><span class="post-toc-number">1.</span> <span class="post-toc-text">释放资源</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#NULL"><span class="post-toc-number"></span> <span class="post-toc-text">NULL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#语法-1"><span class="post-toc-number">1.</span> <span class="post-toc-text">语法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#转换到-NULL"><span class="post-toc-number">2.</span> <span class="post-toc-text">转换到 NULL</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类型转换"><span class="post-toc-number"></span> <span class="post-toc-text">类型转换</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#类型强制转换"><span class="post-toc-number"></span> <span class="post-toc-text">类型强制转换</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#五、变量"><span class="post-toc-number"></span> <span class="post-toc-text">五、变量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#变量定义和命名规范"><span class="post-toc-number"></span> <span class="post-toc-text">变量定义和命名规范</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#变量定义"><span class="post-toc-number">1.</span> <span class="post-toc-text">变量定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#命名规范"><span class="post-toc-number">2.</span> <span class="post-toc-text">命名规范</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#传值和引用"><span class="post-toc-number"></span> <span class="post-toc-text">传值和引用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#传值"><span class="post-toc-number">1.</span> <span class="post-toc-text">传值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#引用"><span class="post-toc-number">2.</span> <span class="post-toc-text">引用</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#预定义变量"><span class="post-toc-number"></span> <span class="post-toc-text">预定义变量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#变量范围"><span class="post-toc-number"></span> <span class="post-toc-text">变量范围</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#全局变量"><span class="post-toc-number"></span> <span class="post-toc-text">全局变量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#静态变量"><span class="post-toc-number"></span> <span class="post-toc-text">静态变量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#可变变量"><span class="post-toc-number"></span> <span class="post-toc-text">可变变量</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#六、常量"><span class="post-toc-number"></span> <span class="post-toc-text">六、常量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常量定义"><span class="post-toc-number"></span> <span class="post-toc-text">常量定义</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#命名规范-1"><span class="post-toc-number">1.</span> <span class="post-toc-text">命名规范</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义方式"><span class="post-toc-number">2.</span> <span class="post-toc-text">定义方式</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#相比变量"><span class="post-toc-number"></span> <span class="post-toc-text">相比变量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#相同点"><span class="post-toc-number">1.</span> <span class="post-toc-text">相同点</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#不同点"><span class="post-toc-number">2.</span> <span class="post-toc-text">不同点</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#魔术常量"><span class="post-toc-number"></span> <span class="post-toc-text">魔术常量</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#七、运算符"><span class="post-toc-number"></span> <span class="post-toc-text">七、运算符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#算术运算符"><span class="post-toc-number"></span> <span class="post-toc-text">算术运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#赋值运算符"><span class="post-toc-number"></span> <span class="post-toc-text">赋值运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#位运算符"><span class="post-toc-number"></span> <span class="post-toc-text">位运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#比较运算符"><span class="post-toc-number"></span> <span class="post-toc-text">比较运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#错误控制运算符"><span class="post-toc-number"></span> <span class="post-toc-text">错误控制运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#执行运算符"><span class="post-toc-number"></span> <span class="post-toc-text">执行运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#递增（减）运算符"><span class="post-toc-number"></span> <span class="post-toc-text">递增（减）运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#逻辑运算符"><span class="post-toc-number"></span> <span class="post-toc-text">逻辑运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#字符串运算符"><span class="post-toc-number"></span> <span class="post-toc-text">字符串运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#数组运算符"><span class="post-toc-number"></span> <span class="post-toc-text">数组运算符</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PHP7-新增操作符"><span class="post-toc-number"></span> <span class="post-toc-text">PHP7 新增操作符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#组合比较符"><span class="post-toc-number">1.</span> <span class="post-toc-text">组合比较符</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#NULL合并运算符"><span class="post-toc-number">2.</span> <span class="post-toc-text">NULL合并运算符</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#八、控制结构（一）"><span class="post-toc-number"></span> <span class="post-toc-text">八、控制结构（一）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#if-语句"><span class="post-toc-number"></span> <span class="post-toc-text">if 语句</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#else-语句"><span class="post-toc-number">1.</span> <span class="post-toc-text">else 语句</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#else-if-语句"><span class="post-toc-number">2.</span> <span class="post-toc-text">else if 语句</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#流程控制的替代语法"><span class="post-toc-number">3.</span> <span class="post-toc-text">流程控制的替代语法</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#while-语句"><span class="post-toc-number"></span> <span class="post-toc-text">while 语句</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#do-while-语句"><span class="post-toc-number">1.</span> <span class="post-toc-text">do-while 语句</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#for-语句"><span class="post-toc-number"></span> <span class="post-toc-text">for 语句</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#foreach-语句"><span class="post-toc-number"></span> <span class="post-toc-text">foreach 语句</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#改变元素的值"><span class="post-toc-number">1.</span> <span class="post-toc-text">改变元素的值</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#break-语句"><span class="post-toc-number"></span> <span class="post-toc-text">break 语句</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#九、控制结构（二）"><span class="post-toc-number"></span> <span class="post-toc-text">九、控制结构（二）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#continue-语句"><span class="post-toc-number"></span> <span class="post-toc-text">continue 语句</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#switch-语句"><span class="post-toc-number"></span> <span class="post-toc-text">switch 语句</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#declare-语句"><span class="post-toc-number"></span> <span class="post-toc-text">declare 语句</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Ticks"><span class="post-toc-number">1.</span> <span class="post-toc-text">Ticks</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Encoding"><span class="post-toc-number">2.</span> <span class="post-toc-text">Encoding</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#return-语句"><span class="post-toc-number"></span> <span class="post-toc-text">return 语句</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#include-语句"><span class="post-toc-number"></span> <span class="post-toc-text">include 语句</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#PHP-中-4-种包含语句"><span class="post-toc-number">1.</span> <span class="post-toc-text">PHP 中 4 种包含语句</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#包含文件执行顺序"><span class="post-toc-number">2.</span> <span class="post-toc-text">包含文件执行顺序</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#变量范围-1"><span class="post-toc-number">3.</span> <span class="post-toc-text">变量范围</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#十、函数"><span class="post-toc-number"></span> <span class="post-toc-text">十、函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#用户自定义函数"><span class="post-toc-number"></span> <span class="post-toc-text">用户自定义函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义"><span class="post-toc-number">1.</span> <span class="post-toc-text">定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#命名规范-2"><span class="post-toc-number">2.</span> <span class="post-toc-text">命名规范</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#函数无需在调用之前被定义"><span class="post-toc-number">3.</span> <span class="post-toc-text">函数无需在调用之前被定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#函数中调用函数"><span class="post-toc-number">4.</span> <span class="post-toc-text">函数中调用函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#递归函数"><span class="post-toc-number">5.</span> <span class="post-toc-text">递归函数</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数的参数"><span class="post-toc-number"></span> <span class="post-toc-text">函数的参数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#通过引用传递参数"><span class="post-toc-number">1.</span> <span class="post-toc-text">通过引用传递参数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#默认参数的值"><span class="post-toc-number">2.</span> <span class="post-toc-text">默认参数的值</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#返回值"><span class="post-toc-number"></span> <span class="post-toc-text">返回值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#return"><span class="post-toc-number">1.</span> <span class="post-toc-text">return</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#返回一个数组以得到多个返回值"><span class="post-toc-number">2.</span> <span class="post-toc-text">返回一个数组以得到多个返回值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#从函数返回一个引用"><span class="post-toc-number">3.</span> <span class="post-toc-text">从函数返回一个引用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#返回值类型声明"><span class="post-toc-number">4.</span> <span class="post-toc-text">返回值类型声明</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#可变函数"><span class="post-toc-number"></span> <span class="post-toc-text">可变函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#内部函数"><span class="post-toc-number"></span> <span class="post-toc-text">内部函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#匿名函数"><span class="post-toc-number"></span> <span class="post-toc-text">匿名函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#匿名函数变量赋值"><span class="post-toc-number">1.</span> <span class="post-toc-text">匿名函数变量赋值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#从父作用域继承变量"><span class="post-toc-number">2.</span> <span class="post-toc-text">从父作用域继承变量</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#十一、类与对象（一）"><span class="post-toc-number"></span> <span class="post-toc-text">十一、类与对象（一）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#基本概念"><span class="post-toc-number"></span> <span class="post-toc-text">基本概念</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义-1"><span class="post-toc-number">1.</span> <span class="post-toc-text">定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#类成员默认值"><span class="post-toc-number">2.</span> <span class="post-toc-text">类成员默认值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#创建实例"><span class="post-toc-number">3.</span> <span class="post-toc-text">创建实例</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#对象赋值"><span class="post-toc-number">4.</span> <span class="post-toc-text">对象赋值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#this"><span class="post-toc-number">5.</span> <span class="post-toc-text">$this</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对象继承"><span class="post-toc-number"></span> <span class="post-toc-text">对象继承</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#属性"><span class="post-toc-number"></span> <span class="post-toc-text">属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义-2"><span class="post-toc-number">1.</span> <span class="post-toc-text">定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#访问属性"><span class="post-toc-number">2.</span> <span class="post-toc-text">访问属性</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类常量"><span class="post-toc-number"></span> <span class="post-toc-text">类常量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#自动加载对象"><span class="post-toc-number"></span> <span class="post-toc-text">自动加载对象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#构造和析构函数"><span class="post-toc-number"></span> <span class="post-toc-text">构造和析构函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#构造函数"><span class="post-toc-number">1.</span> <span class="post-toc-text">构造函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#析构函数"><span class="post-toc-number">2.</span> <span class="post-toc-text">析构函数</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#访问控制"><span class="post-toc-number"></span> <span class="post-toc-text">访问控制</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#范围解析操作符（-）"><span class="post-toc-number"></span> <span class="post-toc-text">范围解析操作符（::）</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十二、类与对象（二）"><span class="post-toc-number"></span> <span class="post-toc-text">十二、类与对象（二）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Static-关键字"><span class="post-toc-number"></span> <span class="post-toc-text">Static 关键字</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#抽象类"><span class="post-toc-number"></span> <span class="post-toc-text">抽象类</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#接口"><span class="post-toc-number"></span> <span class="post-toc-text">接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#实现"><span class="post-toc-number">1.</span> <span class="post-toc-text">实现</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#常量"><span class="post-toc-number">2.</span> <span class="post-toc-text">常量</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#匿名类"><span class="post-toc-number"></span> <span class="post-toc-text">匿名类</span></a>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                php
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/ia_10007.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>algae</strong>
        <span>5月 16, 2020</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=php&url=http://yoursite.com/2020/05/16/php/index.html&pic=http://yoursite.com/img/download(1).png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=php&url=http://yoursite.com/2020/05/16/php/index.html&via=algae" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/05/16/php/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2020/05/16/php/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>一、PHP 简介</p>
<p>PHP（全称 Hypertext Preprocessor，超文本预处理器的字母缩写）是一种服务器端脚本语言，它可嵌入到 HTML 中，尤其适合 WEB 开发。</p>
<p>一个简单的 PHP 文件示例</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Example&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;p&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">'Hello ShiYanLou!'</span>;<span class="meta">?&gt;</span></span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>其中被 `` 包围的内容即是 PHP 程序，在装了 PHP 解释器的服务端运行该文件时，PHP 程序能够被解析到 HTML 页面中，上例中结果为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Hello ShiYanLou!</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="PHP-能做什么"><a href="#PHP-能做什么" class="headerlink" title="PHP 能做什么"></a>PHP 能做什么</h4><ul>
<li><strong>服务端脚本</strong>。这是 PHP 最传统，也是最主要的目标领域。需要具备以下三点：PHP 解析器（CGI 或者服务器模块），WEB 服务器（如 Nginx，Apache）和浏览器。</li>
<li><strong>命令行脚本</strong>。可以编写一段 PHP 脚本，并且不需要任何服务器或者浏览器来运行它，仅需要 PHP 解析器来执行。</li>
<li><strong>桌面应用程序</strong>。桌面应用程序可以通过 PHP 高级特性 PHP-GTK 来编写。PHP-GTK 是 PHP 的一个扩展，在通常发布的 PHP 包中并不包含它。</li>
</ul>
<ul>
<li>命令行脚本文件</li>
</ul>
<p>在目录 <code>/home/shiyanlou</code> 创建 hello.php，并编辑内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">'Hello World'</span>;</span><br></pre></td></tr></table></figure>

<p>命令行执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ php hello.php</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>也可以在 PHP 脚本第一行加入 PHP 路径，通过 <code>./hello</code> 执行</p>
<p>编辑文件 hello</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cd &#x2F;home&#x2F;shiyanlou</span><br><span class="line">$ vim hello</span><br><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;php</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">echo &#39;Hello World&#39;;</span><br></pre></td></tr></table></figure>

<p>保存退出后，修改文件权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x hello</span><br><span class="line">$ .&#x2F;hello</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<ul>
<li>交互模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ php -a</span><br><span class="line">php &gt; $a &#x3D; &#39;Hello World&#39;;</span><br><span class="line">php &gt; echo $a;</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<ul>
<li>直接运行代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ php -r &quot;echo &#39;Hello World!&#39;;&quot;</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<ul>
<li>服务器端<ul>
<li>cgi，如 Nginx 的 fast-cgi。</li>
<li>模块，如 Apache 的 mod_php。</li>
</ul>
</li>
</ul>
<p>在开发和测试阶段还可以使用 PHP 内置服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd &#x2F;home&#x2F;shiyanlou</span><br><span class="line">$ php -S localhost:8080</span><br></pre></td></tr></table></figure>

<p>端口号 8080 可以自定义</p>
<p>浏览器输入 <a href="http://localhost:8080/hello.php" target="_blank" rel="noopener">http://localhost:8080/hello.php</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br></pre></td></tr></table></figure>



<h1 id="二、基本语法"><a href="#二、基本语法" class="headerlink" title="二、基本语法"></a>二、基本语法</h1><p>​      实验知识点    </p>
<ul>
<li><p>PHP 标记</p>
</li>
<li><p>从 HTML 中分离</p>
</li>
<li><p>指令分隔符</p>
</li>
<li><p>注释</p>
<p>通常 PHP 标记为 <code>和</code>?&gt;<code>，输出内容可使用短格式</code> 和 <code>?&gt;</code>。所有这些标签内的部分都会被 PHP 解析器解析。</p>
</li>
</ul>
<p>如果文件内容是纯 PHP 代码，最好在文件末尾删除 PHP 结束标记。这可以避免在 PHP 结束标记之后万一意外加入了空格或者换行符，会导致 PHP 开始输出这些空白。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"$a World"</span>;</span><br></pre></td></tr></table></figure>

<p>注意文件末尾省略了结束标签 <code>?&gt;</code></p>
<p>在 PHP5.4 以后短标签无需任何设置，都是合法标签。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span>=<span class="string">"Hello Wolrd"</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：在 PHP7 中以下两个标记方式已经不再适用</p>
<ul>
<li><script language='php'></script>
</li>
<li><pre><code>&lt;% 和 %&gt;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 从 HTML 中分离    </span><br><span class="line"></span><br><span class="line">通常情况下可以使用 &#96;echo&#96; 输出 HTML 页面</span><br><span class="line"></span><br><span class="line">*Practice*</span><br><span class="line"></span><br><span class="line">编辑 &#96;&#x2F;home&#x2F;shiyanlou&#x2F;html.php&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;php</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$highlight &#x3D; true;</span><br><span class="line"></span><br><span class="line">echo &quot;&lt;html&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;p&quot;.($highlight ? &quot; class&#x3D;&#39;highlight&#39;&quot; : &#39;&#39;).&quot;&gt;</span><br><span class="line">    This is a paragraph</span><br><span class="line">    &lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;&quot;;</span><br></pre></td></tr></table></figure>
</code></pre></li>
</ul>
<p>命名行执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php html.php</span><br></pre></td></tr></table></figure>

<p>由于在一对开始和结束标记之外的内容都会被 PHP 解析器忽略，我们可以在 HTML 中需要使用 PHP 的地方在执行 PHP 程序，因此，上面例子可以写成</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">$highlight = <span class="keyword">true</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;p <span class="meta">&lt;?</span>=$highlight ? <span class="string">"class='highlight'"</span> : <span class="string">''</span><span class="meta">?&gt;</span>&gt;</span><br><span class="line">    This is a paragraph</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>命名行执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php html.php</span><br></pre></td></tr></table></figure>

<p>两次执行的结果是一样的，因此可以使用第二种方式将 PHP 代码嵌入到 HTML 中，避免使用 <code>echo</code> 输出整段 html 代码。</p>
<h2 id="指令分隔符"><a href="#指令分隔符" class="headerlink" title="指令分隔符"></a>指令分隔符</h2><p>PHP 需要在每个语句后用分号（<code>;</code>）结束指令。如果后面还有新行，则代码段的结束标记包含了行结束。</p>
<h2 id="PHP-支持多种注释风格"><a href="#PHP-支持多种注释风格" class="headerlink" title="PHP 支持多种注释风格"></a>PHP 支持多种注释风格</h2><ul>
<li>单行注释。 <code>//</code> 和 <code>#</code> 仅仅注释到行末或者当前的 PHP 代码块。</li>
<li>多行注释。注释在碰到第一个 <code>*/</code> 时结束</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">#单行注释</span><br><span class="line">echo &#39;Hello World&#39;;</span><br><span class="line"></span><br><span class="line">$a &#x3D; &#39;shiyanlou&#39;;&#x2F;&#x2F;单行注释</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 多行注释</span><br><span class="line"> * 注释内容</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure>

<h1 id="三、数据类型（一）"><a href="#三、数据类型（一）" class="headerlink" title="三、数据类型（一）"></a>三、数据类型（一）</h1><p>PHP 支持 8 种原始数据类型。 </p>
<p>四种标量类型： </p>
<ul>
<li>boolean（布尔型）  </li>
<li>integer（整型）</li>
<li>float（浮点型，也称作 double) </li>
<li>string（字符串） </li>
</ul>
<p>两种复合类型：</p>
<ul>
<li>array（数组）  </li>
<li>object（对象）</li>
</ul>
<p>最后是两种特殊类型： </p>
<ul>
<li>resource（资源）  </li>
<li>NULL（无类型） </li>
</ul>
<p>​       类型检测    </p>
<ul>
<li><code>var_dump()</code> 函数可以查看表达式的值和类型</li>
<li><code>gettype()</code> 函数用于检测变量类型</li>
<li><code>is_</code> 加类型，如 <code>is_int()</code>，<code>is_array()</code> 等，判断变量是否为该类型</li>
</ul>
<p>在目录 <code>/home/shiyanlou</code> 创建 test.php，并编辑内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="keyword">TRUE</span>;</span><br><span class="line">$b  = <span class="string">"foo"</span>;</span><br><span class="line">$c = <span class="number">0.1</span>;</span><br><span class="line">$d = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (is_string($b)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"$b 是字符串"</span>.PHP_EOL;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (is_int($c)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"$c 是整型"</span>.PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line">var_dump($b);</span><br><span class="line"><span class="keyword">echo</span> gettype($c).PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> gettype($d);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php test.php</span><br></pre></td></tr></table></figure>

<p>结果输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">foo 是字符串</span><br><span class="line">bool(true)</span><br><span class="line">string(3) &quot;foo&quot;</span><br><span class="line">double</span><br><span class="line">integer</span><br></pre></td></tr></table></figure>

<p>布尔类型表达了真值，可以为 TRUE 或 FALSE，不区分大小写。 </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">True</span>;</span><br><span class="line">$b = <span class="keyword">False</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a);<span class="comment">// bool(true)</span></span><br><span class="line">var_dump($b);<span class="comment">// bool(false)</span></span><br></pre></td></tr></table></figure>

<p>运算符返回 boolean 类型的结果:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// == 是一个操作符，它检测两个变量值是否相等，并返回一个布尔值</span></span><br><span class="line"><span class="keyword">if</span> ($a == <span class="string">"say_hello"</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Hello World"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// $b 的值是否为 true：</span></span><br><span class="line"><span class="keyword">if</span> ($res) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"This is true"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>当下列情况转换为 Boolean 时，其值为 FALSE</p>
<ul>
<li>布尔值 FALSE 本身</li>
<li>整型值 0（零）</li>
<li>浮点型值 0.0（零）</li>
<li>空字符串，以及字符串 “0” </li>
<li>不包括任何元素的数组</li>
<li>特殊类型 NULL（包括尚未赋值的变量）</li>
<li>从空标记生成的 SimpleXML 对象</li>
</ul>
<p>在目录 <code>/home/shiyanlou</code> 编辑 test.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">''</span>;</span><br><span class="line">$b = <span class="number">0</span>;</span><br><span class="line">$c = <span class="keyword">false</span>;</span><br><span class="line">$d = <span class="string">"0"</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a == $b);</span><br><span class="line">var_dump($b == $d);</span><br><span class="line">var_dump($a == $c);</span><br><span class="line">var_dump($b == $c);</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<h2 id="整数溢出"><a href="#整数溢出" class="headerlink" title="整数溢出"></a>整数溢出</h2><p>如果给定的一个数超出了 integer 的范围，将会被解释为 float。同样如果执行的运算结果超出了 integer 范围，也会返回 float。</p>
<p>在目录 <code>/home/shiyanlou</code> 编辑 test.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">123445566</span>;</span><br><span class="line">$b = <span class="number">9223372036854775807</span>;</span><br><span class="line">$c = <span class="number">9223372036854775808</span>;</span><br><span class="line">$d = <span class="number">50000000000000</span> * <span class="number">1000000</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line">var_dump($b);</span><br><span class="line">var_dump($c);</span><br><span class="line">var_dump($d);</span><br></pre></td></tr></table></figure>

<p>浮点型（也叫浮点数 float，双精度数 double 或实数 real）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a &#x3D; 1.234; </span><br><span class="line">$b &#x3D; 1.2e3; </span><br><span class="line">$c &#x3D; 7E-10;</span><br></pre></td></tr></table></figure>

<p>浮点数的字长和平台相关，通常最大值是 1.8e308 并具有 14 位十进制数字的精度（64 位 IEEE 格式）</p>
<p>​       String 字符串类型    </p>
<p>一个字符串 string 就是由一系列的字符组成，其中每个字符等同于一个字节，PHP 中有 4 中表达方式</p>
<ul>
<li><strong>单引号</strong></li>
</ul>
<p>单引号内特殊字符和变量不会被解析</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$a \n World'</span>;<span class="comment">//$a \n World</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>双引号</strong></li>
</ul>
<p>双引号内的特殊字符和变量会被解析。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hello</span></span><br><span class="line"><span class="comment"> *   World</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"$a \n World"</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Heredoc</strong></li>
</ul>
<p>Heredoc 类似与双引号，内部转义字符和变量可以被解析，句法结构为</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">字符串</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">EOT;</span></span><br></pre></td></tr></table></figure>

<p>其中 <code>EOT</code> 为标识符，可以自定义，但是首尾标识符必须相同。开始标识符 EOT 后需换行，结束标识符 EOT 必须独占一行，且前面不许有空格。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a =<span class="string">'Hello'</span> ;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string"><span class="subst">$a</span> Hello</span></span><br><span class="line"><span class="string">EOT;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Nowdoc</strong></li>
</ul>
<p>Nowdoc 类似于单引号，无法解析转移字符和变量。句法结构类似 Heredoc，但是需要在开始标识符加上单引号。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a =<span class="string">'Hello'</span> ;</span><br><span class="line"><span class="keyword">echo</span> &lt;&lt;&lt;<span class="string">'EOD'</span><span class="comment">//和 Heredoc 不同点</span></span><br><span class="line">$a Hello</span><br><span class="line">EOD;</span><br></pre></td></tr></table></figure>

<p>编辑 test.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'Hello'</span>;</span><br><span class="line">$b = <span class="string">'$a World'</span>;</span><br><span class="line">$c = <span class="string">"ShiYanLou"</span>;</span><br><span class="line"></span><br><span class="line">$c = <span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string"><span class="subst">$a</span> \n World</span></span><br><span class="line"><span class="string">EOT;</span></span><br><span class="line"></span><br><span class="line">$d = <span class="string">&lt;&lt;&lt;'EOT'</span></span><br><span class="line"><span class="string"><span class="subst">$a</span> \n <span class="subst">$c</span></span></span><br><span class="line"><span class="string">EOT;</span></span><br><span class="line"></span><br><span class="line">var_dump($b);</span><br><span class="line">var_dump($c);</span><br><span class="line">var_dump($d);</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<h1 id="四、数据类型（二）"><a href="#四、数据类型（二）" class="headerlink" title="四、数据类型（二）"></a>四、数据类型（二）</h1><p>​      实验知识点    </p>
<ul>
<li>Array</li>
<li>Object</li>
<li>Resource</li>
<li>Null</li>
<li>类型转换</li>
</ul>
<p>实验中主要涉及以下几个步骤：</p>
<ul>
<li>PHP 复合数据类型</li>
<li>PHP 特殊数据类型</li>
<li>类型转换</li>
</ul>
<h2 id="Array-数组"><a href="#Array-数组" class="headerlink" title="Array 数组"></a>Array 数组</h2><p>数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。</p>
<h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><p>定义数组可以用 <code>array()</code> 或 <code>[]</code> 来新建一个数组。它接受任意数量用逗号分隔的键（key） =&gt; 值（value）对。key 可以是 integer（索引数组）或者 string（关联数组），value 可以是任意类型，如对象、数组。</p>
<p>在目录 <code>/home/shiyanlou</code> 创建 test.php，并编辑内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = [</span><br><span class="line">    <span class="string">"b"</span> =&gt; <span class="string">"bb"</span>,</span><br><span class="line">    <span class="string">"c"</span> =&gt; <span class="string">"cc"</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">$b = [</span><br><span class="line">    <span class="string">"bb"</span>,</span><br><span class="line">    <span class="string">"cc"</span></span><br><span class="line">];</span><br><span class="line">$c = [</span><br><span class="line">    <span class="string">"bb"</span>,</span><br><span class="line">    <span class="string">"cc"</span>,</span><br><span class="line">    <span class="string">"a"</span> =&gt; $a,</span><br><span class="line">    <span class="string">"b"</span> =&gt; $b,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line">var_dump($a[<span class="number">0</span>]);</span><br><span class="line">var_dump($b);</span><br><span class="line">var_dump($b[<span class="string">'b'</span>]);</span><br><span class="line">var_dump($c[<span class="string">'a'</span>][<span class="string">'b'</span>]);</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<p>从结果中可以看到</p>
<ul>
<li>如果没有键名，则数组默认使用从 0 开始的数字键名</li>
<li>打印数组不存在的 key 的值时，直接返回 NULL</li>
<li>数组可以多维嵌套，通过键名可以获取特定值</li>
</ul>
<h2 id="Object-对象"><a href="#Object-对象" class="headerlink" title="Object 对象"></a>Object 对象</h2><p>使用 <code>new</code> 可以创建一个新的对象</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">do</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Action do"</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$f = <span class="keyword">new</span> foo;</span><br><span class="line">$f-&gt;do();</span><br></pre></td></tr></table></figure>

<h4 id="转换为对象"><a href="#转换为对象" class="headerlink" title="转换为对象"></a>转换为对象</h4><p>如果将一个对象转换成对象，它将不会有任何变化。如果其它任何类型的值被转换成对象，将会创建一个内置类 stdClass 的实例。如果该值为  NULL，则新的实例为空。 array 转换成 object 将使键名成为属性名并具有相对应的值，除了数字键，不迭代就无法被访问。</p>
<p>在目录 <code>/home/shiyanlou</code> 创建 a.php，并编辑内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">new</span> A();</span><br><span class="line">$b = (object)$a;</span><br><span class="line">$c = (object)<span class="string">'A'</span>;</span><br><span class="line">$d = (object)<span class="keyword">NULL</span>;</span><br><span class="line">$e = (object)[<span class="string">'hello'</span>=&gt;<span class="string">'world'</span>];</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line">var_dump($b);</span><br><span class="line">var_dump($c-&gt;scalar);</span><br><span class="line">var_dump($d);</span><br><span class="line">var_dump($e-&gt;hello);</span><br></pre></td></tr></table></figure>

<p>执行 php a.php</p>
<p>从结果中可以看出</p>
<ul>
<li>a是对象，转换为对象后不发生变化，所以a 等于 $b</li>
<li>字符串 “A” 转换为对象时，自动生成 scalar 属性</li>
<li>数组 [‘hello’=&gt;’world’] 转换为对象时，键名 hello 作为属性，键值 world 为属性值</li>
</ul>
<h2 id="Resource-资源"><a href="#Resource-资源" class="headerlink" title="Resource 资源"></a>Resource 资源</h2><p>资源 resource 是一种特殊变量，保存了外部资源的一个引用，如打开文件、数据库连接等，资源是通过专门的函数来建立和使用的</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$file = fopen($filename);<span class="comment">//打开文件</span></span><br><span class="line">$db = mysqli_connect();<span class="comment">//数据库连接</span></span><br></pre></td></tr></table></figure>

<h3 id="转换为资源"><a href="#转换为资源" class="headerlink" title="转换为资源"></a>转换为资源</h3><p>由于资源类型变量保存有为打开文件、数据库连接、图形画布区域等的特殊句柄，因此将其它类型的值转换为资源没有意义。</p>
<h4 id="释放资源"><a href="#释放资源" class="headerlink" title="释放资源"></a>释放资源</h4><p>引用计数系统是 Zend 引擎的一部分，可以自动检测到一个资源不再被引用了（和 Java 一样）。这种情况下此资源使用的所有外部资源都会被垃圾回收系统释放。因此，很少需要手工释放内存。</p>
<h2 id="NULL"><a href="#NULL" class="headerlink" title="NULL"></a>NULL</h2><p>特殊的 NULL 值表示一个变量没有值。NULL 类型唯一可能的值就是 NULL。 在下列情况下一个变量被认为是 NULL：</p>
<ul>
<li>被赋值为 NULL</li>
<li>尚未被赋值</li>
<li>被 unset()</li>
</ul>
<h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><p>NULL 类型只有一个值，就是不区分大小写的常量 NULL。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<h4 id="转换到-NULL"><a href="#转换到-NULL" class="headerlink" title="转换到 NULL"></a>转换到 NULL</h4><p>使用 (unset) 将一个变量转换为 null 将不会删除该变量或 unset 其值。仅是返回 NULL 值而已</p>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><p>PHP 是弱语言类型，定义变量的时候不需要制定变量类型，根据上下文自动解成对于的变量类型。</p>
<p>编辑 <code>/home/shiyanlou/test.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$foo = <span class="string">"0"</span>;</span><br><span class="line">var_dump($foo);</span><br><span class="line"></span><br><span class="line">$foo += <span class="number">2</span>;</span><br><span class="line">var_dump($foo);</span><br><span class="line"></span><br><span class="line">$foo = $foo + <span class="number">1.3</span>;</span><br><span class="line">var_dump($foo);</span><br><span class="line"></span><br><span class="line">$foo = <span class="number">5</span> + <span class="string">"10 Little Piggies"</span>;</span><br><span class="line">var_dump($foo);</span><br><span class="line"></span><br><span class="line">$foo = <span class="number">5</span> + <span class="string">"10 Small Pigs"</span>;</span><br><span class="line">var_dump($foo);</span><br></pre></td></tr></table></figure>

<p>命令行执行 php test.php</p>
<p>从结果中可以看出，PHP隐式转换的优先级为：浮点型 &gt; 整型 &gt; 字符串</p>
<h3 id="类型强制转换"><a href="#类型强制转换" class="headerlink" title="类型强制转换"></a>类型强制转换</h3><p>在要转换的变量之前加上用括号括起来的目标类型，如</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$foo = <span class="number">10</span>;   <span class="comment">// $foo 是整数</span></span><br><span class="line">$bar = (boolean) $foo;   <span class="comment">// 转换成布尔类型</span></span><br></pre></td></tr></table></figure>

<p>允许的强制转换有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-  (int), (integer) - 转换为整形 integer</span><br><span class="line">-  (bool), (boolean) - 转换为布尔类型 boolean</span><br><span class="line">-  (float), (double), (real) - 转换为浮点型 float</span><br><span class="line">-  (string) - 转换为字符串 string</span><br><span class="line">-  (array) - 转换为数组 array</span><br><span class="line">-  (object) - 转换为对象 object</span><br><span class="line">-  (unset) - 转换为 NULL (PHP 5)</span><br></pre></td></tr></table></figure>

<h1 id="五、变量"><a href="#五、变量" class="headerlink" title="五、变量"></a>五、变量</h1><h2 id="变量定义和命名规范"><a href="#变量定义和命名规范" class="headerlink" title="变量定义和命名规范"></a>变量定义和命名规范</h2><h4 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h4><p>PHP 中的变量用一个美元符号 <code>$</code> 后面跟变量名来表示。</p>
<h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><p>变量名区分大小写，一个有效的变量名由字母或者下划线开头，后面跟上任意数量的字母，数字，或者下划线。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$var = <span class="string">'Bob'</span>;</span><br><span class="line">$Var = <span class="string">'Joe'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"$var, $Var"</span>;      <span class="comment">// 输出 "Bob, Joe"</span></span><br><span class="line"></span><br><span class="line">$<span class="number">4</span>site = <span class="string">'not yet'</span>;     <span class="comment">// 非法变量名；以数字开头</span></span><br><span class="line">$_4site = <span class="string">'not yet'</span>;    <span class="comment">// 合法变量名；以下划线开头</span></span><br><span class="line">$i站点is = <span class="string">'mansikka'</span>;  <span class="comment">// 合法变量名；可以用中文</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="传值和引用"><a href="#传值和引用" class="headerlink" title="传值和引用"></a>传值和引用</h2><h4 id="传值"><a href="#传值" class="headerlink" title="传值"></a>传值</h4><p>变量默认总是传值赋值。这意味着，例如，当一个变量的值赋予另外一个变量时，改变其中一个变量的值，将不会影响到另外一个变量。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'hello'</span>;</span><br><span class="line">$b = $a;</span><br><span class="line">$a = <span class="string">'hi'</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a,$b);</span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string(2) &quot;hi&quot;</span><br><span class="line">string(5) &quot;hello&quot;</span><br></pre></td></tr></table></figure>

<p>说明传值赋值，不会因为原变量改变二改变</p>
<h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><p>PHP 也提供了另外一种方式给变量赋值：引用赋值。这意味着新的变量相当于原变量的别名，改动新的变量将影响到原始变量，反之亦然。 </p>
<p>使用引用赋值，简单地将一个 &amp; 符号加到将要赋值的变量前</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'hello'</span>;</span><br><span class="line">$b = &amp;$a;</span><br><span class="line">$a = <span class="string">'hi'</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a,$b);</span><br></pre></td></tr></table></figure>

<p>结果为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string(2) &quot;hi&quot;</span><br><span class="line">string(2) &quot;hi&quot;</span><br></pre></td></tr></table></figure>

<p>有一点重要事项必须指出，那就是只有有名字的变量才可以引用赋值。例如，<code>&amp;(2 * 3)</code> 为非法形式。</p>
<p>编辑 <code>/home/shiyanlou/test.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'a'</span>;</span><br><span class="line">$b = $$a;</span><br><span class="line">$c = &amp;$a;</span><br><span class="line">$d = &amp;$b;</span><br><span class="line"></span><br><span class="line">$a = <span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a,$b,$c,$d);</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<h2 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h2><p>PHP 提供了大量的预定义变量。其中一些变量依赖于运行的服务器的版本和设置，及其它因素。</p>
<ul>
<li><code>$GLOBALS</code> — 引用全局作用域中可用的全部变量</li>
<li><code>$_SERVER</code> — 服务器和执行环境信息</li>
<li><code>$_GET</code> — HTTP GET 变量</li>
<li><code>$_POST</code> — HTTP POST 变量</li>
<li><code>$_FILES</code> — HTTP 文件上传变量</li>
<li><code>$_REQUEST</code> — HTTP Request 变量</li>
<li><code>$_SESSION</code> — Session 变量</li>
<li><code>$_ENV</code> — 环境变量</li>
<li><code>$_COOKIE</code> — HTTP Cookies</li>
<li><code>$php_errormsg</code> — 前一个错误信息</li>
<li><code>$HTTP_RAW_POST_DATA</code> — 原生POST数据</li>
<li><code>$http_response_header</code> — HTTP 响应头</li>
</ul>
<p>以下预定义变量只在命令行执行的时候生效</p>
<ul>
<li><code>$argc</code> — 传递给脚本的参数数目</li>
<li><code>$argv</code> — 传递给脚本的参数数组</li>
</ul>
<h2 id="变量范围"><a href="#变量范围" class="headerlink" title="变量范围"></a>变量范围</h2><p>变量的范围即它定义的上下文背景（也就是它的生效范围）。大部分的 PHP 变量只有一个单独的范围。这个单独的范围跨度同样包含了 include 和 require 引入的文件。例如： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">include</span> <span class="string">'b.php'</span>;</span><br></pre></td></tr></table></figure>

<p>这里变量 $a 将会在包含文件 b.php 中生效。但是，在用户自定义函数中，一个局部函数范围将被引入。任何用于函数内部的变量按缺省情况将被限制在局部函数范围内。</p>
<p>编辑 <code>/home/shiyanlou/variable.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$hi = <span class="string">'Hi'</span>;</span><br><span class="line">$hello = <span class="string">'Hello'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> $hi;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">($hello)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> $hello;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi();</span><br><span class="line">sayHello($hello);</span><br></pre></td></tr></table></figure>

<p>执行 php variable.php</p>
<p>从结果中可以看出，函数要使用外部变量可以通过传参实现，此外还可以使用下节实验中的全局变量。</p>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>全局变量通常使用关键字 <code>global</code> 来声明</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">1</span>;</span><br><span class="line">$b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">global</span> $a, $b;</span><br><span class="line">    $b = $a + $b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum();</span><br><span class="line"><span class="keyword">echo</span> $b;</span><br></pre></td></tr></table></figure>

<p>结果输出 3。在函数中声明了全局变量 a和a 和 a和b 之后，对任一变量的所有引用都会指向其全局版本。对于一个函数能够声明的全局变量的最大个数，PHP 没有限制。 </p>
<p>在全局范围内访问变量的第二个办法，是用特殊的 PHP 自定义 $GLOBALS 数组。前面的例子可以写成： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">1</span>;</span><br><span class="line">$b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $GLOBALS[<span class="string">'b'</span>] = $GLOBALS[<span class="string">'a'</span>] + $GLOBALS[<span class="string">'b'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum();</span><br><span class="line"><span class="keyword">echo</span> $b;</span><br></pre></td></tr></table></figure>

<p>上节实验中，通过传参实现了函数调用外部变量，接下来使用 global 关键字</p>
<p>编辑 <code>/home/shiyanlou/variable.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$hi = <span class="string">'Hi'</span>;</span><br><span class="line">$hello = <span class="string">'Hello'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">global</span> $hi;</span><br><span class="line">    <span class="keyword">echo</span> $hi;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">($hello)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> $hello;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi();</span><br><span class="line">sayHello($hello);</span><br></pre></td></tr></table></figure>

<p>执行 php variable.php</p>
<h2 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h2><p>变量范围的另一个重要特性是静态变量。静态变量仅在局部函数域中存在，但当程序执行离开此作用域时，其值并不丢失。看看下面的例子： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">echo</span> $a;</span><br><span class="line">    $a++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每次调用时都会将 a的值设为0并输出0。将变量加一的a 的值设为 0 并输出 0。将变量加一的 a的值设为0并输出0。将变量加一的a++ 没有作用，因为一旦退出本函数则变量 $a 就不存在了。</p>
<p>要写一个不会丢失本次计数值的计数函数，要将变量 $a 定义为静态的： </p>
<p>编辑 <code>/home/shiyanlou/test.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> $a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">echo</span> $a.PHP_EOL;</span><br><span class="line">    $a++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<h2 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a>可变变量</h2><p>一个变量的变量名可以动态的设置和使用，例如： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a &#x3D; &#39;hello&#39;;</span><br><span class="line">$$a &#x3D; &#39;world&#39;;</span><br><span class="line"></span><br><span class="line">var_dump($a,$hello);</span><br></pre></td></tr></table></figure>

<p>结果输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string(5) &quot;hello&quot;</span><br><span class="line">string(5) &quot;world&quot;</span><br></pre></td></tr></table></figure>

<p>上例中动态设置了一个变量 $hello，通常多个 <code>$</code> 会依次从最后边开始解析，最后生成 <code>$</code> 前一个值为名称的变量。</p>
<p>编辑 <code>/home/shiyanlou/test.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'b'</span>;</span><br><span class="line">$b = <span class="string">'c'</span>;</span><br><span class="line">$c = <span class="string">'d'</span>;</span><br><span class="line"></span><br><span class="line">$$$$a = <span class="string">'bcd'</span>;</span><br><span class="line"></span><br><span class="line">var_dump($d);</span><br></pre></td></tr></table></figure>

<p>执行 php test.php</p>
<h1 id="六、常量"><a href="#六、常量" class="headerlink" title="六、常量"></a>六、常量</h1><h2 id="常量定义"><a href="#常量定义" class="headerlink" title="常量定义"></a>常量定义</h2><h4 id="命名规范-1"><a href="#命名规范-1" class="headerlink" title="命名规范"></a>命名规范</h4><ul>
<li>通常常量用大写字母表示，并且遵循和变量一样的命名规范，即以字母或下划线开头，后面跟任何字母，数字或下划线。</li>
<li>避免使用 <code>__</code> 两个下划线开头，被预留为 PHP 内置魔术常量使用。</li>
</ul>
<h4 id="定义方式"><a href="#定义方式" class="headerlink" title="定义方式"></a>定义方式</h4><ul>
<li>使用 <code>define()</code> 函数定义</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">define(<span class="string">'HELLO'</span>, <span class="string">'Hello'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 defined() 来判断一个常量是否被定义</span></span><br><span class="line">defined(<span class="string">'SHIYANLOU'</span>) <span class="keyword">or</span> define(<span class="string">'SHIYANLOU'</span>, <span class="string">'shiyanlou'</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>const</code> 关键字定义类之外的常量</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HELLO = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="keyword">const</span> SHIYANLOU = <span class="string">'shiyanlou'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意使用 <code>const</code> 只能在类外部定义，且必须处于最顶端的作用区域，因为用此方法是在编译时定义的。这就意味着不能在函数内，循环内以及 if 语句之内用 const 来定义常量。</p>
<p>一个常量一旦被定义，就不能再改变或者取消定义。</p>
<p>编辑 <code>/home/shiyanlou/const.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HELLO = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="keyword">const</span> SHIYANLOU = <span class="string">'shiyanlou'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        define(HELLO, <span class="string">'Hi'</span>);</span><br><span class="line">        <span class="keyword">echo</span> HELLO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$t = <span class="keyword">new</span> Test();</span><br><span class="line">$t-&gt;sayHi();</span><br></pre></td></tr></table></figure>

<p>执行 php const.php</p>
<p>从结果可以看出，常量 HELLO 被定义后，无法重新赋值。</p>
<h2 id="相比变量"><a href="#相比变量" class="headerlink" title="相比变量"></a>相比变量</h2><h4 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h4><p>命名规范都必须以字母或下划线开头，后面跟字母，数字或下划线</p>
<h4 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h4><ul>
<li>常量前面没有美元符号 <code>$</code></li>
<li>常量只能通过 <code>define()</code> 或 <code>const</code> 定义，而不能通过赋值语句</li>
<li>常量可以不用理会变量的作用域而在任何地方定义和访问</li>
<li>常量一旦定义就不能被重新定义或者取消定义</li>
<li>常量的值只能是标量</li>
</ul>
<h2 id="魔术常量"><a href="#魔术常量" class="headerlink" title="魔术常量"></a>魔术常量</h2><p>PHP 向它运行的任何脚本提供了大量的预定义常量。不过很多常量都是由不同的扩展库定义的，只有在加载了这些扩展库时才会出现，或者动态加载后，或者在编译时已经包括进去了。 </p>
<p>有八个魔术常量它们的值随着它们在代码中的位置改变而改变。例如 <code>__LINE__</code> 的值就依赖于它在脚本中所处的行来决定，这些特殊的常量不区分大小写。</p>
<ul>
<li><code>__LINE__</code>，文件中的当前行号。</li>
<li><code>__FILE__</code>，文件的完整路径和文件名。如果用在被包含文件中，则返回被包含的文件名。</li>
<li><code>__DIR__</code>，文件所在的目录。如果用在被包括文件中，则返回被包括的文件所在的目录。</li>
<li><code>__FUNCTION__</code>，函数名称，返回该函数被定义时的名字。</li>
<li><code>__CLASS__</code>，类的名称，返回该类被定义时的名字。</li>
<li><code>__TRAIT__</code>，Trait 的名字（PHP 5.4.0 新加）。自 PHP 5.4 起此常量返回 trait 被定义时的名字（区分大小写）。Trait 名包括其被声明的作用区域（例如 Foo\Bar）。</li>
<li><code>__METHOD__</code>，类的方法名，返回该方法被定义时的名字（区分大小写）。</li>
<li><code>__NAMESPACE__</code>，当前命名空间的名称（区分大小写）。</li>
</ul>
<h1 id="七、运算符"><a href="#七、运算符" class="headerlink" title="七、运算符"></a>七、运算符</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>常见算术运算符包括</p>
<ul>
<li><code>-$a</code>，取反</li>
<li><code>$a + $b</code>，加法，a和a 和 a和b 的和</li>
<li><code>$a - $b</code>，减法，a和a 和 a和b 的差</li>
<li><code>$a * $b</code>，乘法，a和a 和 a和b 的积</li>
<li><code>$a / $b</code>，除法，a和a 和 a和b 的商</li>
<li><code>$a % $b</code>，取余，a除以a 除以 a除以b 的余数</li>
<li><code>$a ** $b</code>，乘方，a的a 的 a的b 次方</li>
</ul>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/arithmetic.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">9</span> / <span class="number">3</span>;</span><br><span class="line">$b = <span class="number">9</span> / <span class="number">4</span>;</span><br><span class="line">$c = <span class="number">-5</span> % <span class="number">3</span>;</span><br><span class="line">$d = <span class="number">5</span> % <span class="number">-3</span>;</span><br><span class="line">$e = <span class="number">2</span> ** <span class="number">-2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string">9 / 3 = <span class="subst">$a</span></span></span><br><span class="line"><span class="string">9 / 4 = <span class="subst">$b</span></span></span><br><span class="line"><span class="string">-5 % 3 = <span class="subst">$c</span></span></span><br><span class="line"><span class="string">5 % -3 = <span class="subst">$d</span></span></span><br><span class="line"><span class="string">2 ** -2 = <span class="subst">$e</span></span></span><br><span class="line"><span class="string">EOT;</span></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php arithmetic.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>除法运算符总是返回浮点数。只有在下列情况例外：两个操作数都是整数（或字符串转换成的整数）并且正好能整除，这时它返回一个整数。</li>
<li>取余运算符的操作数在运算之前都会转换成整数（除去小数部分）。 并且结果和被除数的符号（正负号）相同。即 aa % ab 的结果和 $a 的符号相同。</li>
</ul>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>基本的赋值运算符是 <code>=</code>，意味着把右边表达式的值赋给左边的运算数。 </p>
<p>赋值运算表达式的值也就是所赋的值。也就是说，$a = 3 的值是 3。这样就可以做一些小技巧： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = ($b = <span class="number">4</span>) + <span class="number">5</span>; <span class="comment">// $a 现在成了 9，而 $b 成了 4。</span></span><br></pre></td></tr></table></figure>

<p>对于数组 array，对有名字的键赋值是用 <code>=&gt;</code> 运算符。此运算符的优先级和其它赋值运算符相同。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = [<span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">3</span> * <span class="number">4</span>];</span><br></pre></td></tr></table></figure>

<p>在基本赋值运算符之外，还有适合于所有二元算术，数组集合和字符串运算符的<code>组合运算符</code>，这样可以在一个表达式中使用它的值并把表达式的结果赋给它，例如： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">3</span>;</span><br><span class="line">$a += <span class="number">5</span>; <span class="comment">//相当于 $a = $a + 5;</span></span><br><span class="line">$b = <span class="string">"Hello "</span>;</span><br><span class="line">$b .= <span class="string">"There!"</span>; <span class="comment">//相当于 $b = $b. "There" ;</span></span><br></pre></td></tr></table></figure>

<p>注意赋值运算将原变量的值拷贝到新变量中（传值赋值），所以改变其中一个并不影响另一个。这也适合于在密集循环中拷贝一些值例如大数组。 </p>
<p><strong>引用赋值</strong></p>
<p>PHP 支持引用赋值，引用赋值意味着两个变量指向了同一个数据，没有拷贝任何东西。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/assign.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$arr1 = $arr2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span>($arr1 <span class="keyword">as</span> &amp;$a) &#123;</span><br><span class="line">    $a++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span>($arr2 <span class="keyword">as</span> $a) &#123;</span><br><span class="line">    $a++;</span><br><span class="line">&#125;</span><br><span class="line">print_r($arr1);</span><br><span class="line">print_r($arr2);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php assign.php</span><br></pre></td></tr></table></figure>

<p>从结果中可以看出，引用赋值会改变原值，传值赋值则不会。</p>
<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>位运算符允许对整型数中指定的位进行求值和操作。</p>
<ul>
<li><code>$a &amp; $b</code>，And（按位与），将把 a和a 和 a和b 中都为 1 的位设为 1。</li>
<li><code>$a | $b</code>，Or（按位或），将把 a和a 和 a和b 中任何一个为 1 的位设为 1。</li>
<li><code>$a ^ $b</code>，Xor（按位异或），将把 a和a 和 a和b 中一个为 1 另一个为 0 的位设为 1。</li>
<li><code>~$a</code>，Not（按位取反），将 $a 中为 0 的位设为 1，反之亦然。</li>
<li><code>$a &lt;&lt; $b</code>，Shift left（左移），将 a中的位向左移动a 中的位向左移动 a中的位向左移动b 次（每一次移动都表示乘以 2）。</li>
<li><code>$a &gt;&gt; $b</code>，Shift right（右移），将 a中的位向右移动a 中的位向右移动 a中的位向右移动b 次（每一次移动都表示除以 2）。</li>
</ul>
<p><strong>Example 1 整数的 AND，OR 和 XOR 位运算符</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;*</span><br><span class="line"> * Ignore the top section,</span><br><span class="line"> * it is just formatting to make output clearer.</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">$format &#x3D; &#39;(%1$2d &#x3D; %1$04b) &#x3D; (%2$2d &#x3D; %2$04b)&#39;</span><br><span class="line">        . &#39; %3$s (%4$2d &#x3D; %4$04b)&#39; . &quot;\n&quot;;</span><br><span class="line"></span><br><span class="line">echo &lt;&lt;&lt;EOH</span><br><span class="line"> ---------     ---------  -- ---------</span><br><span class="line"> result        value      op test</span><br><span class="line"> ---------     ---------  -- ---------</span><br><span class="line">EOH;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line"> * Here are the examples.</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">$values &#x3D; array(0, 1, 2, 4, 8);</span><br><span class="line">$test &#x3D; 1 + 4;</span><br><span class="line"></span><br><span class="line">echo &quot;\n Bitwise AND \n&quot;;</span><br><span class="line">foreach ($values as $value) &#123;</span><br><span class="line">    $result &#x3D; $value &amp; $test;</span><br><span class="line">    printf($format, $result, $value, &#39;&amp;&#39;, $test);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;\n Bitwise Inclusive OR \n&quot;;</span><br><span class="line">foreach ($values as $value) &#123;</span><br><span class="line">    $result &#x3D; $value | $test;</span><br><span class="line">    printf($format, $result, $value, &#39;|&#39;, $test);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;\n Bitwise Exclusive OR (XOR) \n&quot;;</span><br><span class="line">foreach ($values as $value) &#123;</span><br><span class="line">    $result &#x3D; $value ^ $test;</span><br><span class="line">    printf($format, $result, $value, &#39;^&#39;, $test);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>以上例程会输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">---------     ---------  -- ---------</span><br><span class="line"> result        value      op test</span><br><span class="line"> ---------     ---------  -- ---------</span><br><span class="line"> Bitwise AND</span><br><span class="line">( 0 &#x3D; 0000) &#x3D; ( 0 &#x3D; 0000) &amp; ( 5 &#x3D; 0101)</span><br><span class="line">( 1 &#x3D; 0001) &#x3D; ( 1 &#x3D; 0001) &amp; ( 5 &#x3D; 0101)</span><br><span class="line">( 0 &#x3D; 0000) &#x3D; ( 2 &#x3D; 0010) &amp; ( 5 &#x3D; 0101)</span><br><span class="line">( 4 &#x3D; 0100) &#x3D; ( 4 &#x3D; 0100) &amp; ( 5 &#x3D; 0101)</span><br><span class="line">( 0 &#x3D; 0000) &#x3D; ( 8 &#x3D; 1000) &amp; ( 5 &#x3D; 0101)</span><br><span class="line"></span><br><span class="line"> Bitwise Inclusive OR</span><br><span class="line">( 5 &#x3D; 0101) &#x3D; ( 0 &#x3D; 0000) | ( 5 &#x3D; 0101)</span><br><span class="line">( 5 &#x3D; 0101) &#x3D; ( 1 &#x3D; 0001) | ( 5 &#x3D; 0101)</span><br><span class="line">( 7 &#x3D; 0111) &#x3D; ( 2 &#x3D; 0010) | ( 5 &#x3D; 0101)</span><br><span class="line">( 5 &#x3D; 0101) &#x3D; ( 4 &#x3D; 0100) | ( 5 &#x3D; 0101)</span><br><span class="line">(13 &#x3D; 1101) &#x3D; ( 8 &#x3D; 1000) | ( 5 &#x3D; 0101)</span><br><span class="line"></span><br><span class="line"> Bitwise Exclusive OR (XOR)</span><br><span class="line">( 5 &#x3D; 0101) &#x3D; ( 0 &#x3D; 0000) ^ ( 5 &#x3D; 0101)</span><br><span class="line">( 4 &#x3D; 0100) &#x3D; ( 1 &#x3D; 0001) ^ ( 5 &#x3D; 0101)</span><br><span class="line">( 7 &#x3D; 0111) &#x3D; ( 2 &#x3D; 0010) ^ ( 5 &#x3D; 0101)</span><br><span class="line">( 1 &#x3D; 0001) &#x3D; ( 4 &#x3D; 0100) ^ ( 5 &#x3D; 0101)</span><br><span class="line">(13 &#x3D; 1101) &#x3D; ( 8 &#x3D; 1000) ^ ( 5 &#x3D; 0101)</span><br></pre></td></tr></table></figure>

<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>比较运算符，如同它们名称所暗示的，允许对两个值进行比较。</p>
<ul>
<li><code>$a == $b</code>，如果类型转换后 a等于a 等于 a等于b，返回 TRUE。</li>
<li><code>$a === $b</code>，如果 a等于a 等于 a等于b，并且它们的类型也相同，返回 TRUE。</li>
<li><code>$a != $b</code>，如果类型转换后 a不等于a 不等于 a不等于b，返回 TRUE。</li>
<li><code>$a &lt;&gt; $b</code>，等同于 <code>!=</code></li>
<li><code>$a !== $b</code>，如果 a和a 和 a和b 的值或类型不同，返回 TRUE。</li>
<li><code>$a &lt; $b</code>    ，如果 a严格小于a 严格小于 a严格小于b，返回 TRUE。</li>
<li><code>$a &gt; $b</code>，如果 a严格大于a 严格大于 a严格大于b，返回 TRUE。</li>
<li><code>$a &lt;= $b</code>，如果 a小于或者等于a 小于或者等于 a小于或者等于b，返回 TRUE。</li>
<li><code>$a &gt;= $b</code>，如果 a大于或者等于a 大于或者等于 a大于或者等于b，返回 TRUE。</li>
</ul>
<p>如果比较一个数字和字符串或者比较涉及到数字内容的字符串，则字符串会被转换为数值并且比较按照数值来进行。此规则也适用于 switch 语句。当用 === 或 !== 进行比较时则不进行类型转换，因为此时类型和数值都要比对。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/compare.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">var_dump(<span class="keyword">null</span> == <span class="string">""</span>);</span><br><span class="line">var_dump(<span class="keyword">null</span> == <span class="keyword">false</span>);</span><br><span class="line">var_dump(<span class="keyword">true</span> &gt; <span class="keyword">false</span>);</span><br><span class="line">var_dump(<span class="number">0</span> == <span class="string">"a"</span>);</span><br><span class="line">var_dump(<span class="string">"1"</span> == <span class="string">"01"</span>);</span><br><span class="line">var_dump(<span class="string">"10"</span> == <span class="string">"1e1"</span>);</span><br><span class="line">var_dump(<span class="number">100</span> == <span class="string">"1e2"</span>);</span><br><span class="line">var_dump([<span class="number">4</span>,<span class="number">5</span>] &lt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">var_dump((object)<span class="string">"Test"</span> &gt; <span class="string">"Test"</span>);</span><br><span class="line">var_dump((object)<span class="string">"Test"</span> &gt; [<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (<span class="string">"a"</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"a"</span>: </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a"</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php compare.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>null 或 String 和 string 比较时，将 null 转换为 “”，进行数字或词汇比较</li>
<li>bool 或 null 和其他类型比较时，转换为 bool，FALSE &lt; TRUE</li>
<li>string，resource 或 number 相互比较时，将字符串或资源转换为数字，按普通数字比较</li>
<li>array 之间比较时，具有较少成员的数组较小</li>
<li>object 和其他类型比较时，object 总是更大</li>
<li>array 和其他类型比较时，array 总是更大，但是比对象小</li>
<li>switch 中第一个条件满足时，不会执行后面满足条件的语句</li>
</ul>
<h2 id="错误控制运算符"><a href="#错误控制运算符" class="headerlink" title="错误控制运算符"></a>错误控制运算符</h2><p>PHP 支持一个错误控制运算符：<code>\@</code>。当将其放置在一个 PHP 表达式之前，该表达式可能产生的任何错误信息都被忽略掉。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$my_file = @file (<span class="string">'non_existent_file'</span>) <span class="keyword">or</span></span><br><span class="line">    <span class="keyword">die</span> (<span class="string">"Failed opening file: error was '$php_errormsg'"</span>);</span><br><span class="line"></span><br><span class="line">$value = @$cache[$key];</span><br></pre></td></tr></table></figure>

<p>错误控制运算符只对表达式有效。对新手来说一个简单的规则就是：</p>
<ul>
<li>如果能从某处得到值，就能在它前面加上 <code>\@</code> 运算符。例如，可以把它放在变量，函数和 include 调用，常量，等等之前。</li>
<li>不能把它放在函数或类的定义之前，也不能用于条件结构例如 if 和 foreach 等。</li>
</ul>
<p>注意：目前的 <code>\@</code> 错误控制运算符前缀甚至使导致脚本终止的严重错误的错误报告也失效。这意味着如果在某个不存在或者敲错了字母的函数调用前用了 <code>\@</code> 来抑制错误信息，那脚本会没有任何迹象显示原因而死在那里。</p>
<h2 id="执行运算符"><a href="#执行运算符" class="headerlink" title="执行运算符"></a>执行运算符</h2><p>PHP 支持一个执行运算符：反引号（``）。注意这不是单引号！PHP 将尝试将反引号中的内容作为外壳命令来执行，并将其输出信息返回（例如，可以赋给一个变量而不是简单地丢弃到标准输出）。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$output = `ls -al`;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;pre&gt;$output&lt;/pre&gt;"</span>;</span><br></pre></td></tr></table></figure>

<p>注意，反引号运算符在激活了安全模式或者关闭了 shell_exec() 时是无效的。</p>
<h2 id="递增（减）运算符"><a href="#递增（减）运算符" class="headerlink" title="递增（减）运算符"></a>递增（减）运算符</h2><p>常见递增（减）运算符</p>
<ul>
<li><code>++$a</code>，a的值加一返回a 的值加一返回 a的值加一返回a。</li>
<li><code>$a++</code>，返回 a，然后将a，然后将 a，然后将a 的值加一。</li>
<li><code>--$a</code>，a的值减一返回a 的值减一返回 a的值减一返回a。</li>
<li><code>$a--</code>，返回 a，然后将a，然后将 a，然后将a 的值减一。</li>
</ul>
<p>递增（减）运算符对布尔和 NULL 类型的影响</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">null</span>;</span><br><span class="line">$b = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">var_dump(++$a, --$a, ++$b, --$b);</span><br></pre></td></tr></table></figure>

<p>结果输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int(1)</span><br><span class="line">int(0)</span><br><span class="line">bool(true)</span><br><span class="line">bool(true)</span><br></pre></td></tr></table></figure>

<p>布尔值不受影响，NULL 递增为 1，递减为 0</p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/xcre.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = <span class="number">0</span>;</span><br><span class="line">$i = <span class="string">'W'</span>;</span><br><span class="line"><span class="keyword">while</span>($a &lt; <span class="number">6</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"$a : "</span>.++$i . PHP_EOL;</span><br><span class="line">    $a++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php xcre.php</span><br></pre></td></tr></table></figure>

<p>从结果可知</p>
<p>在处理字符变量的算数运算时，PHP 沿袭了 Perl 的习惯，而非 C 的。例如</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="string">'Z'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Perl 中</span></span><br><span class="line">$a++;<span class="comment">//将把 $a 变成'AA'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//C 中</span></span><br><span class="line">$a++;<span class="comment">//将把 $a 变成 '['（'Z' 的 ASCII 值是 90，'[' 的 ASCII 值是 91）</span></span><br></pre></td></tr></table></figure>

<p>注意字符变量只能递增，不能递减，并且只支持纯字母（a-z 和 A-Z）。递增（减）其他字符变量则无效，原字符串没有变化。</p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>常见逻辑运算符</p>
<ul>
<li><code>$a and $b</code>，逻辑与，如果 a和a 和 a和b 都为 TRUE</li>
<li><code>$a &amp;&amp; $b</code>，逻辑与，如果 a和a 和 a和b 都为 TRUE，其中 <code>&amp;&amp;</code> 优先级高于 <code>and</code></li>
<li><code>$a or $b</code>，逻辑或，如果 a或a 或 a或b 任一为 TRUE</li>
<li><code>$a || $b</code>，逻辑或，如果 a或a 或 a或b 任一为 TRUE，<code>||</code> 优先级高于 <code>or</code></li>
<li><code>$a xor $b</code>，逻辑异或，如果 a或a 或 a或b 任一为 TRUE，但不同时是，则返回 TRUE</li>
<li><code>! $a</code>，逻辑非，如果 $a 不为 TRUE</li>
</ul>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/logical.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = (<span class="keyword">false</span> &amp;&amp; foo());</span><br><span class="line">$b = (<span class="keyword">true</span>  || foo());</span><br><span class="line">$c = (<span class="keyword">false</span> <span class="keyword">and</span> foo());</span><br><span class="line">$d = (<span class="keyword">true</span>  <span class="keyword">or</span>  foo());</span><br><span class="line"></span><br><span class="line">var_dump($a, $b, $c, $d);</span><br><span class="line"></span><br><span class="line">$e = <span class="keyword">false</span> || <span class="keyword">true</span>;</span><br><span class="line">$f = <span class="keyword">false</span> <span class="keyword">or</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">$g = <span class="keyword">true</span> &amp;&amp; <span class="keyword">false</span>;</span><br><span class="line">$h = <span class="keyword">true</span> <span class="keyword">and</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">var_dump($e, $f, $g, $h);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php logical.php</span><br></pre></td></tr></table></figure>

<p>从结果可知</p>
<ul>
<li><code>foo()</code> 虽然没有定义，但是并没有机会执行，因为之前的表达式已经确定结果，<code>foo()</code> 被短路。</li>
<li><code>&amp;&amp;</code>，<code>||</code> 的优先级高于 <code>=</code>，<code>=</code> 的优先级高于 <code>and</code>，<code>or</code>。</li>
</ul>
<h2 id="字符串运算符"><a href="#字符串运算符" class="headerlink" title="字符串运算符"></a>字符串运算符</h2><p>有两个字符串运算符。</p>
<ul>
<li>第一个是连接运算符 <code>.</code>，它返回其左右参数连接后的字符串</li>
<li>第二个是连接赋值运算符 <code>.=</code>，它将右边参数附加到左边的参数后。</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="string">"Hello "</span>;</span><br><span class="line">$b = $a . <span class="string">"World!"</span>; <span class="comment">// now $b contains "Hello World!"</span></span><br><span class="line"></span><br><span class="line">$a = <span class="string">"Hello "</span>;</span><br><span class="line">$a .= <span class="string">"World!"</span>;     <span class="comment">// now $a contains "Hello World!"</span></span><br></pre></td></tr></table></figure>

<h2 id="数组运算符"><a href="#数组运算符" class="headerlink" title="数组运算符"></a>数组运算符</h2><p>常见数组运算符</p>
<ul>
<li><code>$a + $b</code>，a和a 和 a和b 的联合</li>
<li><code>$a == $b</code>，a和a 和 a和b 键和值都相同则为 TRUE</li>
<li><code>$a === $b</code>，a和a 和 a和b 键和值且顺序和类型都相同返回 TRUE</li>
<li><code>$a != $b</code>，a和a 和 a和b 中键或值不同返回 TRUE</li>
<li><code>$a &lt;&gt; $b</code>，等同于 !=</li>
<li><code>$a !== $b</code>，a和a 和 a和b 中键，值，顺序或类型，其中一个不相同则返回 TRUE</li>
</ul>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/array.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$a = [<span class="string">"a"</span> =&gt; <span class="string">"apple"</span>, <span class="string">"b"</span> =&gt; <span class="string">"banana"</span>];</span><br><span class="line">$b = [<span class="string">"a"</span> =&gt; <span class="string">"pear"</span>, <span class="string">"b"</span> =&gt; <span class="string">"strawberry"</span>, <span class="string">"c"</span> =&gt; <span class="string">"cherry"</span>];</span><br><span class="line">$c = [<span class="string">"b"</span> =&gt; <span class="string">"banana"</span>, <span class="string">"a"</span> =&gt; <span class="string">"apple"</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var_dump($a + $b, $b + $a);</span><br><span class="line">var_dump($a == $c, $a === $c);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php array.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li><code>+</code> 运算符把右边的数组元素（除去键值与左边的数组元素相同的那些元素）附加到左边的数组后面，但是重复的键值不会被覆盖。</li>
<li><code>===</code>，需要数组的键，值，类型和顺序都相同，才返回 TRUE。</li>
</ul>
<h2 id="PHP7-新增操作符"><a href="#PHP7-新增操作符" class="headerlink" title="PHP7 新增操作符"></a>PHP7 新增操作符</h2><h4 id="组合比较符"><a href="#组合比较符" class="headerlink" title="组合比较符"></a>组合比较符</h4><p>太空船操作符使用 <code>&lt;=&gt;</code> 表示，用于比较两个表达式。当 a小于、等于或大于a 小于、等于或大于 a小于、等于或大于b 时它分别返回-1、0或1。 比较的原则是沿用 PHP 的常规比较规则进行的。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 整数</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">2</span>; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">2</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 浮点数</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">2.5</span>; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">2.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"b"</span>; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"b"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 1</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="NULL合并运算符"><a href="#NULL合并运算符" class="headerlink" title="NULL合并运算符"></a>NULL合并运算符</h4><p>NULL 合并运算符使用 <code>??</code> 表示，意味着如果 <code>??</code> 之前的变量存在且值不为 NULL，它就会返回自身的值，否则返回 <code>??</code> 后的操作数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$username = $_GET[<span class="string">'user'</span>] ?? <span class="string">'nobody'</span>;</span><br><span class="line">$username = <span class="keyword">isset</span>($_GET[<span class="string">'user'</span>]) ? $_GET[<span class="string">'user'</span>] : <span class="string">'nobody'</span>;</span><br><span class="line"></span><br><span class="line">$username = $_GET[<span class="string">'user'</span>] ?? $_POST[<span class="string">'user'</span>] ?? <span class="string">'nobody'</span>;</span><br></pre></td></tr></table></figure>

<p>合并运算符通常可用三元运算符作为替换，多个合并运算符的优先级从左到右一次执行。</p>
<h1 id="八、控制结构（一）"><a href="#八、控制结构（一）" class="headerlink" title="八、控制结构（一）"></a>八、控制结构（一）</h1><h2 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h2><p>if 结构是很多语言包括 PHP 在内最重要的特性之一，它允许按照条件执行代码片段。PHP 的 if 结构和 C 语言相似：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($a &gt; $b)</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">"a is bigger than b"</span>;</span><br></pre></td></tr></table></figure>

<h4 id="else-语句"><a href="#else-语句" class="headerlink" title="else 语句"></a>else 语句</h4><p>经常需要在满足某个条件时执行一条语句，而在不满足该条件时执行其它语句，这正是 else 的功能。else 延伸了 if 语句，可以在 if 语句中的表达式的值为 FALSE 时执行语句。例如以下代码在 a大于a 大于 a大于b 时显示 a is bigger than b，反之则显示 a is NOT bigger than b： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($a &gt; $b) &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">"a is greater than b"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">"a is NOT greater than b"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="else-if-语句"><a href="#else-if-语句" class="headerlink" title="else if 语句"></a>else if 语句</h4><p>也可以写作 elseif，和此名称暗示的一样，是 if 和 else 的组合。和 else 一样，它延伸了 if 语句，可以在原来的 if 表达式值为 FALSE 时执行不同语句。但是和 else 不一样的是，它仅在 elseif 的条件表达式值为 TRUE  时执行语句。例如以下代码将根据条件分别显示 a is bigger than b，a equal to b 或者 a is smaller  than b： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($a &gt; $b) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a is bigger than b"</span>;</span><br><span class="line">&#125; <span class="keyword">elseif</span> ($a == $b) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a is equal to b"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a is smaller than b"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在同一个 if 语句中可以有多个 elseif 部分，其中第一个表达式值为 TRUE（如果有的话）的 elseif 部分将会执行。</p>
<p>elseif 的语句仅在之前的 if 和所有之前 elseif 的表达式值为 FALSE，并且当前的 elseif 表达式值为 TRUE 时执行。 </p>
<p>注意: 必须要注意的是 elseif 与 else if 只有在类似上例中使用花括号的情况下才认为是完全相同。如果用冒号来定义 if/elseif 条件，那就不能用两个单词的 else if，否则 PHP 会产生解析错误。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不正确的使用方法： */</span></span><br><span class="line"><span class="keyword">if</span>($a &gt; $b):</span><br><span class="line">    <span class="keyword">echo</span> $a.<span class="string">" is greater than "</span>.$b;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>($a == $b): <span class="comment">// 将无法编译</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The above line causes a parse error."</span>;</span><br><span class="line"><span class="keyword">endif</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 正确的使用方法： */</span></span><br><span class="line"><span class="keyword">if</span>($a &gt; $b):</span><br><span class="line">    <span class="keyword">echo</span> $a.<span class="string">" is greater than "</span>.$b;</span><br><span class="line"><span class="keyword">elseif</span>($a == $b): <span class="comment">// 注意使用了一个单词的 elseif</span></span><br><span class="line">    <span class="keyword">echo</span> $a.<span class="string">" equals "</span>.$b;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">echo</span> $a.<span class="string">" is neither greater than or equal to "</span>.$b;</span><br><span class="line"><span class="keyword">endif</span>;</span><br></pre></td></tr></table></figure>

<h4 id="流程控制的替代语法"><a href="#流程控制的替代语法" class="headerlink" title="流程控制的替代语法"></a>流程控制的替代语法</h4><p>PHP 提供了一些流程控制的替代语法，包括 if，while，for，foreach 和  switch。替代语法的基本形式是把左花括号（{）换成冒号（:），把右花括号（}）分别换成  endif;，endwhile;，endfor;，endforeach; 以及 endswitch;</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> ($a == <span class="number">5</span>): <span class="meta">?&gt;</span></span><br><span class="line">A is equal to <span class="number">5</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>替代语法同样可以用在 else 和 elseif 中。下面是一个包括 elseif 和 else 的 if 结构用替代语法格式写的例子：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($a == <span class="number">5</span>):</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a equals 5"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"..."</span>;</span><br><span class="line"><span class="keyword">elseif</span> ($a == <span class="number">6</span>):</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a equals 6"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"!!!"</span>;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"a is neither 5 nor 6"</span>;</span><br><span class="line"><span class="keyword">endif</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>不要在同一个控制块内混合使用两种语法。</p>
<h2 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h2><p>while 循环是 PHP 中最简单的循环类型。它和 C 语言中的 while 表现地一样。while 语句的基本格式是(该代码为语法格式，不是代码案例，无需敲打该代码)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while (expr)</span><br><span class="line">    &#123;statement&#125;</span><br></pre></td></tr></table></figure>

<p>while 语句的含意很简单，它告诉 PHP 只要 while 表达式的值为 TRUE  就重复执行嵌套中的循环语句。表达式的值在每次开始循环时检查，所以即使这个值在循环语句中改变了，语句也不会停止执行，直到本次循环结束。有时候如果  while 表达式的值一开始就是 FALSE，则循环语句一次都不会执行。 </p>
<p>和 if 语句一样，可以在 while 循环中用花括号括起一个语句组，或者用替代语法： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while (expr):</span><br><span class="line">    statement</span><br><span class="line">    ...</span><br><span class="line">endwhile;</span><br></pre></td></tr></table></figure>

<p>下面两个例子完全一样，都显示数字 1 到 10： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;* example 1 *&#x2F;</span><br><span class="line"></span><br><span class="line">$i &#x3D; 1;</span><br><span class="line">while ($i &lt;&#x3D; 10) &#123;</span><br><span class="line">    echo $i++;  &#x2F;* the printed value would be</span><br><span class="line">                    $i before the increment</span><br><span class="line">                    (post-increment) *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* example 2 *&#x2F;</span><br><span class="line"></span><br><span class="line">$i &#x3D; 1;</span><br><span class="line">while ($i &lt;&#x3D; 10):</span><br><span class="line">    print $i;</span><br><span class="line">    $i++;</span><br><span class="line">endwhile;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="do-while-语句"><a href="#do-while-语句" class="headerlink" title="do-while 语句"></a>do-while 语句</h4><p>do-while 循环和 while 循环非常相似，区别在于表达式的值是在每次循环结束时检查而不是开始时。和一般的 while  循环主要的区别是 do-while 的循环语句保证会执行一次（表达式的真值在每次循环结束后检查），然而在一般的 while  循环中就不一定了（表达式真值在循环开始时检查，如果一开始就为 FALSE 则整个循环立即终止）。 </p>
<p>do-while 循环只有一种语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$i &#x3D; 0;</span><br><span class="line">do &#123;</span><br><span class="line">   echo $i;</span><br><span class="line">&#125; while ($i &gt; 0);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>以上循环将正好运行一次，因为经过第一次循环后，当检查表达式的真值时，其值为 FALSE（$i 不大于 0）而导致循环终止。 资深的 C 语言用户可能熟悉另一种不同的 do-while 循环用法，把语句放在 do-while(0) 之中，在循环内部用 break 语句来结束执行循环。以下代码片段示范了此方法： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">do &#123;</span><br><span class="line">    if ($i &lt; 5) &#123;</span><br><span class="line">        echo &quot;i is not big enough&quot;;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    $i *&#x3D; $factor;</span><br><span class="line">    if ($i &lt; $minimum_limit) &#123;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    echo &quot;i is ok&quot;;</span><br><span class="line"></span><br><span class="line">    &#x2F;* process i *&#x2F;</span><br><span class="line"></span><br><span class="line">&#125; while(0);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>如果还不能立刻理解也不用担心。即使不用此“特性”也照样可以写出强大的代码来。自 PHP 5.3.0 起，还可以使用 goto 来跳出循环。</p>
<h2 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a>for 语句</h2><p>for 循环是 PHP 中最复杂的循环结构。它的行为和 C 语言的相似。 for 循环的语法是(该代码为语法格式，不是代码案例，无需敲打该代码)： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for (expr1; expr2; expr3)</span><br><span class="line">    &#123;statement&#125;</span><br></pre></td></tr></table></figure>

<p>第一个表达式（expr1）在循环开始前无条件求值（并执行）一次。 </p>
<p>expr2 在每次循环开始前求值。如果值为 TRUE，则继续循环，执行嵌套的循环语句。如果值为 FALSE，则终止循环。 </p>
<p>expr3 在每次循环之后被求值（并执行）。 </p>
<p>每个表达式都可以为空或包括逗号分隔的多个表达式。表达式 expr2 中，所有用逗号分隔的表达式都会计算，但只取最后一个结果。expr2  为空意味着将无限循环下去（和 C 一样，PHP 暗中认为其值为 TRUE）。这可能不像想象中那样没有用，因为经常会希望用有条件的 break  语句来结束循环而不是用 for 的表达式真值判断。 </p>
<p>考虑以下的例子，它们都显示数字 1 到 10： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;* example 1 *&#x2F;</span><br><span class="line"></span><br><span class="line">for ($i &#x3D; 1; $i &lt;&#x3D; 10; $i++) &#123;</span><br><span class="line">    echo $i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* example 2 *&#x2F;</span><br><span class="line"></span><br><span class="line">for ($i &#x3D; 1; ; $i++) &#123;</span><br><span class="line">    if ($i &gt; 10) &#123;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    echo $i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* example 3 *&#x2F;</span><br><span class="line"></span><br><span class="line">$i &#x3D; 1;</span><br><span class="line">for (;;) &#123;</span><br><span class="line">    if ($i &gt; 10) &#123;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    echo $i;</span><br><span class="line">    $i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* example 4 *&#x2F;</span><br><span class="line"></span><br><span class="line">for ($i &#x3D; 1, $j &#x3D; 0; $i &lt;&#x3D; 10; $j +&#x3D; $i, print $i, $i++);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>当然，第一个例子看上去最简洁（或者有人认为是第四个），但用户可能会发现在 for 循环中用空的表达式在很多场合下会很方便。  PHP 也支持用冒号的 for 循环的替代语法(该代码为语法格式，不是代码案例，无需敲打该代码)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (expr1; expr2; expr3):</span><br><span class="line">    statement;</span><br><span class="line">    ...</span><br><span class="line">endfor;</span><br></pre></td></tr></table></figure>

<p>有时经常需要像下面这样例子一样对数组进行遍历： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;*</span><br><span class="line"> * 此数组将在遍历的过程中改变其中某些单元的值</span><br><span class="line"> *&#x2F;</span><br><span class="line">$people &#x3D; Array(</span><br><span class="line">        Array(&#39;name&#39; &#x3D;&gt; &#39;Kalle&#39;, &#39;salt&#39; &#x3D;&gt; 856412), </span><br><span class="line">        Array(&#39;name&#39; &#x3D;&gt; &#39;Pierre&#39;, &#39;salt&#39; &#x3D;&gt; 215863)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">for($i &#x3D; 0; $i &lt; sizeof($people); ++$i)</span><br><span class="line">&#123;</span><br><span class="line">    $people[$i][&#39;salt&#39;] &#x3D; rand(000000, 999999);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>以上代码可能执行很慢，因为每次循环时都要计算一遍数组的长度。由于数组的长度始终不变，可以用一个中间变量来储存数组长度以优化而不是不停调用 count()：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$people &#x3D; Array(</span><br><span class="line">        Array(&#39;name&#39; &#x3D;&gt; &#39;Kalle&#39;, &#39;salt&#39; &#x3D;&gt; 856412), </span><br><span class="line">        Array(&#39;name&#39; &#x3D;&gt; &#39;Pierre&#39;, &#39;salt&#39; &#x3D;&gt; 215863)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">for($i &#x3D; 0, $size &#x3D; sizeof($people); $i &lt; $size; ++$i)</span><br><span class="line">&#123;</span><br><span class="line">    $people[$i][&#39;salt&#39;] &#x3D; rand(000000, 999999);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="foreach-语句"><a href="#foreach-语句" class="headerlink" title="foreach 语句"></a>foreach 语句</h2><p>foreach 语法结构提供了遍历数组的简单方式。foreach 仅能够应用于数组和对象，如果尝试应用于其他数据类型的变量，或者未初始化的变量将发出错误信息。有两种语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foreach (array as $value)</span><br><span class="line">    statement</span><br><span class="line">foreach (array as $key &#x3D;&gt; $value)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>

<ul>
<li>第一种格式遍历给定的 array 数组。每次循环中，当前单元的值被赋给 $value 并且数组内部的指针向前移一步。 </li>
<li>第二种格式做同样的事，只除了当前单元的键名也会在每次循环中被赋给变量 $key。 </li>
</ul>
<h4 id="改变元素的值"><a href="#改变元素的值" class="headerlink" title="改变元素的值"></a>改变元素的值</h4><p>在 foreach 中有两种方式改变元素的值</p>
<ul>
<li>在 $value 之前加上 <code>&amp;</code>来修改数组的元素。</li>
<li>通过 $key 重新赋值。</li>
</ul>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/foreach.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$arr1 = $arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> ($arr1 <span class="keyword">as</span> &amp;$value) &#123;</span><br><span class="line">    $value = $value * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump($arr1, $value);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> ($arr2 <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">    $arr2[$key] = $value * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">var_dump($arr2, $value);</span><br></pre></td></tr></table></figure>

<p>执行 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php foreach.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出，数组最后一个元素的 $value 引用在 foreach 循环之后仍会保留。建议使用 unset() 来将其销毁。</p>
<h2 id="break-语句"><a href="#break-语句" class="headerlink" title="break 语句"></a>break 语句</h2><p>break 结束当前 for，foreach，while，do-while 或者 switch 结构的执行。 break 可以接受一个可选的数字参数来决定跳出几重循环。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/break.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (++$i) &#123;</span><br><span class="line">    <span class="keyword">for</span> ($j = <span class="number">0</span>;$j &lt; <span class="number">10</span>;$j++) &#123;</span><br><span class="line">        <span class="keyword">switch</span> ($i) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"At 1"</span>.PHP_EOL;</span><br><span class="line">            <span class="keyword">break</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"At 5"</span>.PHP_EOL;</span><br><span class="line">            <span class="keyword">break</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"At 10; quitting"</span>.PHP_EOL;</span><br><span class="line">            <span class="keyword">break</span> <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php break.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看到，break 带参数可以指定跳出几重循环。</p>
<h1 id="九、控制结构（二）"><a href="#九、控制结构（二）" class="headerlink" title="九、控制结构（二）"></a>九、控制结构（二）</h1><h2 id="continue-语句"><a href="#continue-语句" class="headerlink" title="continue 语句"></a>continue 语句</h2><p>continue 在循环结构用来跳过本次循环中剩余的代码并在条件求值为真时开始执行下一次循环。 </p>
<p><strong>Note: 注意在 PHP 中 switch 语句被认为是可以使用 continue 的一种循环结构。</strong></p>
<p>continue 接受一个可选的数字参数来决定跳过几重循环到循环结尾。默认值是 1，即跳到当前循环末尾。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/continue.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ($i++ &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Outer"</span>.PHP_EOL;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Middle"</span>.PHP_EOL;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"Inner"</span>.PHP_EOL;</span><br><span class="line">            <span class="keyword">continue</span> <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"This never gets output."</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Neither does this."</span>.PHP_EOL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php continue.php</span><br></pre></td></tr></table></figure>

<h2 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h2><p>当有多个 if elseif 条件时，可以使用 switch 来替换。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($a == <span class="string">'apple'</span>) &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125; <span class="keyword">elseif</span> ($a == <span class="string">'bnanan'</span>) &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125; <span class="keyword">elseif</span> ($a == <span class="string">'oringe'</span>) &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 switch 替换为</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> ($a) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'apple'</span>:</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    <span class="keyword">break</span>;    </span><br><span class="line">    <span class="keyword">case</span> <span class="string">'bnanan'</span>:</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    <span class="keyword">break</span>;    </span><br><span class="line">    <span class="keyword">case</span> <span class="string">'oringe'</span>:</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    <span class="keyword">break</span>;    </span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>switch 中每个条件需要一对 <code>case</code> 和 <code>break</code>。</li>
<li><code>default</code> 匹配任何条件。如果匹配了某个条件，但是该语句中没有使用 <code>break</code>，则 <code>default</code> 中的语句将会被执行。</li>
</ul>
<p><strong>Note: 注意和其它语言不同，continue 语句作用到 switch 上的作用类似于 break。如果在循环中有一个 switch 并希望 continue 到外层循环中的下一轮循环，用 continue 2。</strong></p>
<p>在 switch 语句中条件只求值一次并用来和每个 case 语句比较。在 elseif 语句中条件会再次求值。如果条件比一个简单的比较要复杂得多或者在一个很多次的循环中，那么用 switch 语句可能会快一些。 </p>
<p>在一个 case 中的语句也可以为空，这样只不过将控制转移到了下一个 case 中的语句。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">switch ($i) &#123;</span><br><span class="line">    case 0:</span><br><span class="line">    case 1:</span><br><span class="line">    case 2:</span><br><span class="line">        echo &quot;i is less than 3 but not negative&quot;;</span><br><span class="line">        break;</span><br><span class="line">    case 3:</span><br><span class="line">        echo &quot;i is 3&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>一个 case 的特例是 default。它匹配了任何和其它 case 都不匹配的情况。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">switch ($i) &#123;</span><br><span class="line">    case 0:</span><br><span class="line">        echo &quot;i equals 0&quot;;</span><br><span class="line">        break;</span><br><span class="line">    case 1:</span><br><span class="line">        echo &quot;i equals 1&quot;;</span><br><span class="line">        break;</span><br><span class="line">    case 2:</span><br><span class="line">        echo &quot;i equals 2&quot;;</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        echo &quot;i is not equal to 0, 1 or 2&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>case 表达式可以是任何求值为简单类型的表达式，即整型或浮点数以及字符串。不能用数组或对象，除非它们被解除引用成为简单类型。 </p>
<p>switch 支持替代语法的流程控制。更多信息见控制结构(一)的替代语法一节。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">switch ($i):</span><br><span class="line">    case 0:</span><br><span class="line">        echo &quot;i equals 0&quot;;</span><br><span class="line">        break;</span><br><span class="line">    case 1:</span><br><span class="line">        echo &quot;i equals 1&quot;;</span><br><span class="line">        break;</span><br><span class="line">    case 2:</span><br><span class="line">        echo &quot;i equals 2&quot;;</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        echo &quot;i is not equal to 0, 1 or 2&quot;;</span><br><span class="line">endswitch;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="declare-语句"><a href="#declare-语句" class="headerlink" title="declare 语句"></a>declare 语句</h2><p>declare 结构用来设定一段代码的执行指令。declare 的语法和其它流程控制结构相似(该代码为语法格式，不是代码案例，无需敲打该代码)： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare (directive)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>

<p>directive 部分允许设定 declare 代码段的行为。目前只认识两个指令：ticks（更多信息见下面 ticks 指令）以及 encoding（更多信息见下面 encoding 指令）。 <strong>Note:  encoding 是 PHP 5.3.0 新增指令。</strong> declare 代码段中的 statement 部分将被执行——怎样执行以及执行中有什么副作用出现取决于 directive 中设定的指令。 </p>
<p>declare 结构也可用于全局范围，影响到其后的所有代码（但如果有 declare 结构的文件被其它文件包含，则对包含它的父文件不起作用）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F; these are the same:</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; you can use this:</span><br><span class="line">declare(ticks&#x3D;1) &#123;</span><br><span class="line">    &#x2F;&#x2F; entire script here</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; or you can use this:</span><br><span class="line">declare(ticks&#x3D;1);</span><br><span class="line">&#x2F;&#x2F; entire script here</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="Ticks"><a href="#Ticks" class="headerlink" title="Ticks"></a>Ticks</h4><p>Tick（时钟周期）是一个在 declare 代码段中解释器每执行 N 条可计时的低级语句就会发生的事件。N 的值是在 declare 中的 directive 部分用 ticks=N 来指定的。 </p>
<p>不是所有语句都可计时。通常条件表达式和参数表达式都不可计时。 </p>
<p>在每个 tick 中出现的事件是由 register_tick_function() 来指定的。更多细节见下面的例子。注意每个 tick 中可以出现多个事件。  <strong>Example 1 Tick 的用法示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">declare(ticks&#x3D;1);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; A function called on each tick event</span><br><span class="line">function tick_handler()</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;tick_handler() called\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">register_tick_function(&#39;tick_handler&#39;);</span><br><span class="line"></span><br><span class="line">$a &#x3D; 1;</span><br><span class="line"></span><br><span class="line">if ($a &gt; 0) &#123;</span><br><span class="line">    $a +&#x3D; 2;</span><br><span class="line">    print($a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Example 2 Ticks 的用法示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function tick_handler()</span><br><span class="line">&#123;</span><br><span class="line">  echo &quot;tick_handler() called\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a &#x3D; 1;</span><br><span class="line">tick_handler();</span><br><span class="line"></span><br><span class="line">if ($a &gt; 0) &#123;</span><br><span class="line">    $a +&#x3D; 2;</span><br><span class="line">    tick_handler();</span><br><span class="line">    print($a);</span><br><span class="line">    tick_handler();</span><br><span class="line">&#125;</span><br><span class="line">tick_handler();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="Encoding"><a href="#Encoding" class="headerlink" title="Encoding"></a>Encoding</h4><p>可以用 encoding 指令来对每段脚本指定其编码方式。 <strong>Example3 对脚本指定编码方式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">declare(encoding&#x3D;&#39;ISO-8859-1&#39;);</span><br><span class="line">&#x2F;&#x2F; code here</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="return-语句"><a href="#return-语句" class="headerlink" title="return 语句"></a>return 语句</h2><p>如果在一个函数中调用 <code>return</code> 语句，将立即结束此函数的执行并将它的参数作为函数的值返回。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"World"</span>;<span class="comment">//不会被执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> sayHello();<span class="comment">//Hello</span></span><br></pre></td></tr></table></figure>

<p><code>return</code> 可以不接任何参数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="include-语句"><a href="#include-语句" class="headerlink" title="include 语句"></a>include 语句</h2><h4 id="PHP-中-4-种包含语句"><a href="#PHP-中-4-种包含语句" class="headerlink" title="PHP 中 4 种包含语句"></a>PHP 中 4 种包含语句</h4><ul>
<li>include</li>
<li>include_once</li>
<li>require</li>
<li>require_once</li>
</ul>
<p>include 和 require 都可以加载文件，不同点在于如果加载的文件包含错误，include 发出警告，继续执行后面的语句，而 require 则发出致命错误，终止程序执行。</p>
<p>include_once 和 require_once 的区别同 include 和 require，都是遇到错误时是否继续执行。</p>
<p>include 和 include_once，以及 require 和 require_once 的区别在于是否进行重复检测。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="string">'a.php'</span>;</span><br><span class="line"><span class="keyword">require</span> <span class="string">'app/b.php'</span>;</span><br></pre></td></tr></table></figure>

<h4 id="包含文件执行顺序"><a href="#包含文件执行顺序" class="headerlink" title="包含文件执行顺序"></a>包含文件执行顺序</h4><ol>
<li>参数是绝对路径（以 <code>/</code> 开头的路径），则直接包含该文件</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="string">'/usr/local/share/a.php'</span>;</span><br></pre></td></tr></table></figure>

<ol>
<li>参数是相对路径或文件名，按照 <code>include_path</code> （可以通过 <code>phpinfo()</code> 查看当前包含的路径）指定的目录寻找。</li>
<li>如果在 include_path 下没找到该文件则在调用脚本文件所在的目录和当前工作目录下寻找。</li>
<li>如果最后仍未找到文件则 include 结构会发出一条警告；这一点和 require 不同，后者会发出一个致命错误。 </li>
</ol>
<h4 id="变量范围-1"><a href="#变量范围-1" class="headerlink" title="变量范围"></a>变量范围</h4><p>当一个文件被包含时，其中所包含的代码继承了 include 所在行的变量范围。从该处开始，调用文件在该行处可用的任何变量在被调用的文件中也都可用。不过所有在包含文件中定义的函数和类都具有全局作用域。 </p>
<h2 id="十、函数"><a href="#十、函数" class="headerlink" title="十、函数"></a>十、函数</h2><h2 id="用户自定义函数"><a href="#用户自定义函数" class="headerlink" title="用户自定义函数"></a>用户自定义函数</h2><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>一个函数可由以下的语法来定义：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">($arg1, ..., $argn)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    <span class="keyword">return</span> $retval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="命名规范-2"><a href="#命名规范-2" class="headerlink" title="命名规范"></a>命名规范</h4><p>函数名和 PHP 中的其它标识符命名规则相同。有效的函数名以字母或下划线打头，后面跟字母，数字或下划线。</p>
<h4 id="函数无需在调用之前被定义"><a href="#函数无需在调用之前被定义" class="headerlink" title="函数无需在调用之前被定义"></a>函数无需在调用之前被定义</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"A"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">actionA();<span class="comment">//可以调用</span></span><br><span class="line">actionB();<span class="comment">//可以调用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"B"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除非函数是有条件被定义或者在函数中调用函数，一般都无须在调用函数之前定义。</p>
<h4 id="函数中调用函数"><a href="#函数中调用函数" class="headerlink" title="函数中调用函数"></a>函数中调用函数</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">"B"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">actionB();<span class="comment">//无法调用</span></span><br><span class="line">actionA();<span class="comment">//定义函数 actionB()</span></span><br><span class="line">actionB();<span class="comment">//可以调用</span></span><br></pre></td></tr></table></figure>

<p>PHP 不支持函数重载，也不可能取消定义或者重定义已声明的函数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'Hi'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'Hello'</span>;</span><br><span class="line">&#125;</span><br><span class="line">sayHi();<span class="comment">//报错，不能重定义函数 sayHi()</span></span><br></pre></td></tr></table></figure>

<p>函数名是大小写无关的，不过在调用函数的时候，通常使用其在定义时相同的形式。</p>
<h4 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h4><p>递归函数的本质是函数调用函数本身，但是要避免递归函数／方法，调用超过 100-200 层，因为可能会使堆栈崩溃从而使当前脚本终止。 无限递归可视为编程错误。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursion</span><span class="params">($a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($a &lt; <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"$a\n"</span>;</span><br><span class="line">        recursion($a + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h2><p>通过参数列表可以传递信息到函数，即以逗号作为分隔符的表达式列表。</p>
<p>PHP 支持按值传递参数（默认），通过引用传递参数以及默认参数。也支持可变数量的参数；</p>
<h4 id="通过引用传递参数"><a href="#通过引用传递参数" class="headerlink" title="通过引用传递参数"></a>通过引用传递参数</h4><p>缺省情况下，函数参数通过值传递（因而即使在函数内部改变参数的值，它并不会改变函数外部的值）。如果希望允许函数修改它的参数值，必须通过引用传递参数。  如果想要函数的一个参数总是通过引用传递，可以在函数定义中该参数的前面预先加上符号 &amp;： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">(&amp;$string)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $string .= <span class="string">'and something extra.'</span>;</span><br><span class="line">&#125;</span><br><span class="line">$str = <span class="string">'This is a string, '</span>;</span><br><span class="line">actionB($str);</span><br><span class="line"><span class="keyword">echo</span> $str;    <span class="comment">// outputs 'This is a string, and something extra.'</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="默认参数的值"><a href="#默认参数的值" class="headerlink" title="默认参数的值"></a>默认参数的值</h4><p>函数可以定义 C++ 风格的标量参数默认值，如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makecoffee</span><span class="params">($type = <span class="string">"cappuccino"</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Making a cup of $type.\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> makecoffee();</span><br><span class="line"><span class="keyword">echo</span> makecoffee(<span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">echo</span> makecoffee(<span class="string">"espresso"</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上例程会输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Making a cup of cappuccino.</span><br><span class="line">Making a cup of .</span><br><span class="line">Making a cup of espresso.</span><br></pre></td></tr></table></figure>

<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>值通过使用可选的返回语句返回。可以返回包括数组和对象的任意类型。返回语句会立即中止函数的运行，并且将控制权交回调用该函数的代码行。</p>
<h4 id="return"><a href="#return" class="headerlink" title="return"></a>return</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span><span class="params">($num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $num * $num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> square(<span class="number">4</span>);   <span class="comment">// outputs '16'.</span></span><br></pre></td></tr></table></figure>

<p>函数不能返回多个值，但可以通过返回一个数组来得到类似的效果。 </p>
<h4 id="返回一个数组以得到多个返回值"><a href="#返回一个数组以得到多个返回值" class="headerlink" title="返回一个数组以得到多个返回值"></a>返回一个数组以得到多个返回值</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">small_numbers</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">array</span> (<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">list</span> ($zero, $one, $two) = small_numbers();</span><br></pre></td></tr></table></figure>

<p>从函数返回一个引用，必须在函数声明和指派返回值给一个变量时都使用引用操作符 &amp; ： </p>
<h4 id="从函数返回一个引用"><a href="#从函数返回一个引用" class="headerlink" title="从函数返回一个引用"></a>从函数返回一个引用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function &amp;returns_reference()</span><br><span class="line">&#123;</span><br><span class="line">    return $someref;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$newref &#x3D;&amp; returns_reference();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="返回值类型声明"><a href="#返回值类型声明" class="headerlink" title="返回值类型声明"></a>返回值类型声明</h4><p>PHP 7 增加了对返回类型声明的支持。 类似于参数类型声明，返回类型声明指明了函数返回值的类型。可用的类型与参数声明中可用的类型相同。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arraysSum</span><span class="params">(array ...$arrays)</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> array_map(<span class="function"><span class="keyword">function</span><span class="params">(array $array)</span>: <span class="title">int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> array_sum($array);</span><br><span class="line">    &#125;, $arrays);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_r(arraysSum([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]));</span><br></pre></td></tr></table></figure>

<p>以上例程会输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] &#x3D;&gt; 6</span><br><span class="line">    [1] &#x3D;&gt; 15</span><br><span class="line">    [2] &#x3D;&gt; 24</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="可变函数"><a href="#可变函数" class="headerlink" title="可变函数"></a>可变函数</h2><p>PHP 支持可变函数的概念。这意味着如果一个变量名后有圆括号，PHP 将寻找与变量的值同名的函数，并且尝试执行它。可变函数可以用来实现包括回调函数，函数表在内的一些用途。 </p>
<p>变量函数不能用于语言结构，例如 echo， print， unset()， isset()， empty()， include， require 以及类似的语句。需要使用自己的包装函数来将这些结构用作变量函数。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/variable.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $actionB = <span class="string">"property B"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"method A"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"method B"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Hi"</span>.PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">($word = <span class="string">''</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Hello $word"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$func = <span class="string">'sayHi'</span>;</span><br><span class="line">$func();</span><br><span class="line"></span><br><span class="line">$func = <span class="string">'sayHello'</span>;</span><br><span class="line">$func(<span class="string">'World'</span>);</span><br><span class="line"></span><br><span class="line">$func = <span class="string">'actionA'</span>;</span><br><span class="line">(<span class="keyword">new</span> Test())-&gt;$func();</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> Test::$actionB;</span><br><span class="line">$actionB = <span class="string">'actionB'</span>;</span><br><span class="line">Test::$actionB();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php variable.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>可以用可变函数的语法来调用一个对象方法和静态方法。</li>
<li>静态方法调用优先级高于属性调用</li>
</ul>
<h2 id="内部函数"><a href="#内部函数" class="headerlink" title="内部函数"></a>内部函数</h2><p>也称为内置函数，PHP 有很多标准的函数和结构。还有一些函数需要和特定地 PHP 扩展模块一起编译，否则在使用它们的时候就会得到一个致命的未定义函数错误。</p>
<p>例如，要使用 image 函数中的 <code>imagecreatetruecolor()</code>，需要在编译 PHP 的时候加上 GD 的支持。或者，要使用 <code>mysql_connect()</code> 函数，就需要在编译 PHP 的时候加上 MySQL 支持。</p>
<p>调用 <code>phpinfo()</code> 或者 <code>get_loaded_extensions()</code> 可以得知 PHP 加载了那些扩展库。同时还应该注意，很多扩展库默认就是有效的。PHP 手册按照不同的扩展库组织了它们的文档。</p>
<p>Note: 如果传递给函数的参数类型与实际的类型不一致，例如将一个 array 传递给一个 string 类型的变量，那么函数的返回值是不确定的。在这种情况下，通常函数会返回 NULL。但这仅仅是一个惯例，并不一定如此。</p>
<p>参见 function_exists()，函数参考，get_extension_funcs() 和 dl()。</p>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>匿名函数（Anonymous functions），也叫闭包函数（closures），允许 临时创建一个没有指定名称的函数。最经常用作回调函数（callback）参数的值。当然，也有其它应用的情况。</p>
<p>匿名函数目前是通过 Closure 类来实现的。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> preg_replace_callback(<span class="string">'~-([a-z])~'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($match)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> strtoupper($match[<span class="number">1</span>]);</span><br><span class="line">&#125;, <span class="string">'hello-world'</span>);</span><br><span class="line"><span class="comment">// 输出 helloWorld</span></span><br></pre></td></tr></table></figure>

<p>闭包函数也可以作为变量的值来使用。PHP 会自动把此种表达式转换成内置类 Closure 的对象实例。把一个 closure 对象赋值给一个变量的方式与普通变量赋值的语法是一样的，最后也要加上分号：</p>
<h4 id="匿名函数变量赋值"><a href="#匿名函数变量赋值" class="headerlink" title="匿名函数变量赋值"></a>匿名函数变量赋值</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$greet = <span class="function"><span class="keyword">function</span><span class="params">($name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    printf(<span class="string">"Hello %s\r\n"</span>, $name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$greet(<span class="string">'World'</span>);</span><br><span class="line">$greet(<span class="string">'PHP'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="从父作用域继承变量"><a href="#从父作用域继承变量" class="headerlink" title="从父作用域继承变量"></a>从父作用域继承变量</h4><p>闭包可以从父作用域中继承变量。 任何此类变量都应该用 use 语言结构传递进去。 PHP 7.1 起，不能传入此类变量： superglobals、 $this 或者和参数重名。</p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/anonymous.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$msg = <span class="string">'hello'</span>;</span><br><span class="line"></span><br><span class="line">$a = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    var_dump($msg);</span><br><span class="line">&#125;;</span><br><span class="line">$a();</span><br><span class="line"></span><br><span class="line">$b = <span class="function"><span class="keyword">function</span> <span class="params">()</span> <span class="title">use</span> <span class="params">($msg)</span> </span>&#123;</span><br><span class="line">    var_dump($msg);</span><br><span class="line">&#125;;</span><br><span class="line">$b();</span><br><span class="line"></span><br><span class="line">$msg = <span class="string">'hi'</span>;</span><br><span class="line">$b();</span><br><span class="line"></span><br><span class="line">$c = <span class="function"><span class="keyword">function</span> <span class="params">()</span> <span class="title">use</span> <span class="params">(&amp;$msg)</span> </span>&#123;</span><br><span class="line">    var_dump($msg);</span><br><span class="line">&#125;;</span><br><span class="line">$c();</span><br><span class="line"></span><br><span class="line">$d = <span class="function"><span class="keyword">function</span> <span class="params">($arg)</span> <span class="title">use</span> <span class="params">($msg)</span> </span>&#123;</span><br><span class="line">    var_dump($arg . <span class="string">' '</span> . $msg);</span><br><span class="line">&#125;;</span><br><span class="line">$d(<span class="string">"hello"</span>);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php anonymous.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>使用 use 可以从父作用域继承变量</li>
<li>匿名函数是在定义的时候继承父作用域变量，而不是在调用的时候继承</li>
<li>变量使用引用赋值，则原变量发生改变，则引用该变量的变量也会发生变化</li>
</ul>
<h2 id="十一、类与对象（一）"><a href="#十一、类与对象（一）" class="headerlink" title="十一、类与对象（一）"></a>十一、类与对象（一）</h2><p>本节介绍 PHP 的类和对象。PHP 中用 <code>class</code> 来定义类，用 <code>new</code>  来实例化对象，用 <code>extends</code> 继承类，不过只能单继承。属性和方法有 <code>public</code>、<code>private</code> 和 <code>protected</code> 做访问控制，默认为 public，在类里定义常量不需要 <code>$</code>，用（<code>::</code>）范围解析符可以调用父类的方法，访问类的静态变量、静态方法和常量。</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><ul>
<li>每个类的定义都以关键字 <code>class</code> 开头，后面跟着类名（非保留字）。</li>
<li>类名后跟着一对花括号，里面包含有类属性和方法的定义。</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">    <span class="keyword">public</span> $a;</span><br><span class="line">    <span class="keyword">private</span> $b;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类成员默认值"><a href="#类成员默认值" class="headerlink" title="类成员默认值"></a>类成员默认值</h4><p>在定义类属性的时候，可以使用默认值</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//默认值</span></span><br><span class="line">    <span class="keyword">public</span> $a = <span class="string">'Hi'</span>;</span><br><span class="line">    <span class="keyword">private</span> $b = <span class="string">'Hello'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h4><p>要创建一个对象的实例，使用关键字 <code>new</code> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="keyword">new</span> A();<span class="comment">//创建类 A 的实例</span></span><br></pre></td></tr></table></figure>

<h4 id="对象赋值"><a href="#对象赋值" class="headerlink" title="对象赋值"></a>对象赋值</h4><p>当把一个对象已经创建的实例赋给一个新变量时，新变量会访问同一个实例，就和用该对象赋值一样。此行为和给函数传递入实例时一样。可以用克隆给一个已创建的对象建立一个新实例。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">new</span> A();</span><br><span class="line">$b = $a;</span><br><span class="line">$c = &amp;$a;</span><br><span class="line">$d = <span class="keyword">clone</span> $a;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">var_dump($a,$b,$c,$d);</span><br></pre></td></tr></table></figure>

<p>上述结果为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NULL</span><br><span class="line">object(A)#1 (0) &#123;</span><br><span class="line">&#125;</span><br><span class="line">NULL</span><br><span class="line">object(A)#2 (0) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="this"><a href="#this" class="headerlink" title="$this"></a>$this</h4><p>伪变量 <code>$this</code> 可以在当一个方法在对象内部调用时使用。$this 是一个到调用对象（通常是方法所属于的对象，但也可以是另一个对象，如果该方法是从第二个对象内静态调用的话）的引用。</p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/this.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="keyword">$this</span>)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'$this is defined ('</span>;</span><br><span class="line">            <span class="keyword">echo</span> get_class(<span class="keyword">$this</span>);</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">")\n"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'$this is not defined.'</span>.PHP_EOL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        A::actionA();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">new</span> A();</span><br><span class="line">$a-&gt;actionA();</span><br><span class="line">A::actionA();</span><br><span class="line">$b = <span class="keyword">new</span> B();</span><br><span class="line">$b-&gt;actionB();</span><br><span class="line">B::actionB();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php this.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出，<code>$this</code> 只能在对象中使用，不能在静态方法中调用。但是如果在另一个对象（类 B）中调用静态方法，则 <code>$this</code> 指向该类（ B ）。</p>
<h2 id="对象继承"><a href="#对象继承" class="headerlink" title="对象继承"></a>对象继承</h2><p>一个类可以在声明中用 <code>extends</code> 关键字继承另一个类的方法和成员。PHP 不支持多重继承，一个类只能继承一个类。 </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>被继承的方法和成员可以通过用同样的名字重新声明被覆盖，除非父类定义方法时使用了 <code>final</code> 关键字。可以通过 <code>parent::</code> 来访问被覆盖的方法或成员。</p>
<p><em>Practice</em> 编辑 <code>/home/shiyanlou/extends.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Hi"</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayBye</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Bye"</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::sayHi();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Hello"</span>.PHP_EOL;</span><br><span class="line">        <span class="keyword">parent</span>::sayBye();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//不能被覆盖，报错，练习的时候注意删除该方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayBye</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"See you"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$b = <span class="keyword">new</span> B();</span><br><span class="line">$b-&gt;sayHi();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php extends.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看到</p>
<ul>
<li>使用 <code>final</code> 修饰的方法不能被覆盖</li>
<li>使用 <code>parent::</code> 可以调用父类方法或属性</li>
</ul>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><h4 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h4><p>类的变量成员叫做<code>属性</code>。属性声明是由访问控制关键字 <code>public</code>，<code>protected</code>  或 <code>private</code> 和一个变量来组成，同时可以加上默认值。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//只能在类本身使用</span></span><br><span class="line">    <span class="keyword">private</span> $a = <span class="string">"Hello"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可以在子类和类本身使用</span></span><br><span class="line">    <span class="keyword">protected</span> $b = <span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string">This is variable b;</span></span><br><span class="line"><span class="string">EOT;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//除了子类，类本身，外部也可以访问</span></span><br><span class="line">    <span class="keyword">public</span> $c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="访问属性"><a href="#访问属性" class="headerlink" title="访问属性"></a>访问属性</h4><p>在类的成员方法里面，可以通过 <code>$this-&gt;</code> 加变量名来访问类的属性和方法，但是要访问类的静态属性或者在静态方法要使用 <code>self::</code> 加变量名。</p>
<p>注意 <code>self::</code> 这种方式后的变量名需要加 <code>$</code> 符号，而 <code>$this-&gt;</code> 后的变量名不需要加</p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/property.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> $a = <span class="string">"Hello"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> $b = <span class="string">&lt;&lt;&lt;EOT</span></span><br><span class="line"><span class="string">This is property b</span></span><br><span class="line"><span class="string">EOT;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $c = <span class="string">'This is a'</span>.<span class="string">' static property'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">talk</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;a.PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;b.PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">self</span>::$c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">new</span> A())-&gt;talk();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php property.php</span><br></pre></td></tr></table></figure>

<h2 id="类常量"><a href="#类常量" class="headerlink" title="类常量"></a>类常量</h2><p>我们可以在类中定义常量。常量的值将始终保持不变。在定义和使用常量的时候不需要使用 <code>$</code> 符号。 </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> ENV = <span class="string">'env'</span>;</span><br><span class="line">    <span class="keyword">const</span> HELLO = <span class="string">'Hello'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接口（interface）中也可以定义常量</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> ENV = <span class="string">'ENV'</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自动加载对象"><a href="#自动加载对象" class="headerlink" title="自动加载对象"></a>自动加载对象</h2><p>要进行一个类操作时，需要先将该类加载进来，例如 <code>include</code>，<code>require</code> 等。</p>
<p>如果要执行的类很多，则需要大量 <code>include</code> 操作，会导致重复加载，管理苦难等一系列问题。</p>
<p>在 PHP 5 中，不用这样做了，可以使用 <code>spl_autoload_register()</code> 函数来注册任意数量的自动加载器。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> <span class="params">($class_name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">include</span> $class_name . <span class="string">'.php'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> A();</span><br><span class="line"><span class="keyword">new</span> B();</span><br></pre></td></tr></table></figure>

<p>本例尝试分别从 A.php 和 B.php 文件中加载 A 和 B 类，相当于 </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="string">'A.php'</span>;</span><br><span class="line"><span class="keyword">include</span> <span class="string">'B.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> A();</span><br><span class="line"><span class="keyword">new</span> B();</span><br></pre></td></tr></table></figure>

<h2 id="构造和析构函数"><a href="#构造和析构函数" class="headerlink" title="构造和析构函数"></a>构造和析构函数</h2><h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>void __constuct()</p>
<p>创建一个对象时（ <code>new</code> 操作），构造函数会自动调用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'init...'</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"hi"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">new</span> A())-&gt;sayHi();</span><br></pre></td></tr></table></figure>

<p>输出结果为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">init...</span><br><span class="line">hi</span><br></pre></td></tr></table></figure>

<p>实例化 A 的时候执行构造函数。</p>
<p>注意: 如果子类中定义了构造函数则不会隐式调用其父类的构造函数。要执行父类的构造函数，需要在子类的构造函数中调用parent::__construct()。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">"A"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">parent</span>::__construct();</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">"B"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> A(); <span class="comment">// A</span></span><br><span class="line"><span class="keyword">new</span> B(); <span class="comment">// AB</span></span><br></pre></td></tr></table></figure>

<h4 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h4><p>void __destruct( void )</p>
<p>析构函数会在到某个对象的所有引用都被删除或者当对象被显式销毁时执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class A &#123;</span><br><span class="line">   public function __construct() &#123;</span><br><span class="line">       echo &#39;Start...&#39;;</span><br><span class="line">   &#125; </span><br><span class="line"></span><br><span class="line">   public function sayHi()</span><br><span class="line">   &#123;</span><br><span class="line">       echo &quot;Hi...&quot;;    </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public function __destruct() &#123;</span><br><span class="line">       echo &quot;Finish&quot;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(new A())-&gt;sayHi(); &#x2F;&#x2F; Start...Hi...Finish</span><br></pre></td></tr></table></figure>

<p>和构造函数一样，父类的析构函数不会被引擎暗中调用。要执行父类的析构函数，必须在子类的析构函数体中显式调用 parent::__destruct()。 </p>
<p>析构函数即使在使用 <code>exit()</code> 终止脚本运行时也会被调用。在析构函数中 调用 <code>exit()</code> 将会中止其余关闭操作的运行。 </p>
<h2 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h2><p>对属性或方法的访问控制，是通过在前面添加关键字 public、protected 或 private 来实现的。如果未添加，则默认为 public。</p>
<ul>
<li><code>public</code> 所定义的类成员可以在任何地方被访问</li>
<li><code>protected</code> 所定义的类成员则可以被其所在类的子类和父类访问（当然，该成员所在的类也可以访问）</li>
<li><code>private</code> 定义的类成员则只能被其所在类访问</li>
</ul>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/access.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> $hi = <span class="string">'Hi'</span>.PHP_EOL;</span><br><span class="line">    <span class="keyword">protected</span> $hello = <span class="string">'Hello'</span>.PHP_EOL;</span><br><span class="line">    <span class="keyword">public</span> $bye = <span class="string">'Bye'</span>.PHP_EOL;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;hi;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;hello;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayBye</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;bye;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">talk</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::sayHello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">new</span> A();</span><br><span class="line">$a-&gt;sayHi();<span class="comment">//报错，无法调用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$b = <span class="keyword">new</span> B();</span><br><span class="line">$b-&gt;sayHello();<span class="comment">//报错，无法调用</span></span><br><span class="line">$b-&gt;talk();</span><br><span class="line">$b-&gt;sayBye();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php access.php</span><br></pre></td></tr></table></figure>

<p>从结果可知，声明为 <code>private</code> 的方法或属性无法在类外部调用，同时子类也无法调用该方法。</p>
<h2 id="范围解析操作符（-）"><a href="#范围解析操作符（-）" class="headerlink" title="范围解析操作符（::）"></a>范围解析操作符（::）</h2><p>范围解析操作符，可以简单地说是一对冒号，可以用于访问静态成员、方法和常量，还可以用于覆盖类中的成员和方法。 </p>
<p>当在类的外部访问这些静态成员、方法和常量时，必须使用类的名字。 </p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/paamayim.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> CONST_A = <span class="string">'A constant value'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Hello'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $b = <span class="string">'static var b'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 覆盖父类方法</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">parent</span>::sayHello().<span class="string">' World'</span>.PHP_EOL;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">self</span>::sayHello();</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">parent</span>::CONST_A.PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">self</span>::$b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B::actionB();</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php paamayim.php</span><br></pre></td></tr></table></figure>

<p>从结果可知</p>
<ul>
<li>使用 <code>parent</code>，<code>self</code> 可以调用父类和自身的方法属性</li>
<li><code>::</code> 可以调用静态方法，静态属性和常量</li>
</ul>
<h1 id="十二、类与对象（二）"><a href="#十二、类与对象（二）" class="headerlink" title="十二、类与对象（二）"></a>十二、类与对象（二）</h1><h2 id="Static-关键字"><a href="#Static-关键字" class="headerlink" title="Static 关键字"></a>Static 关键字</h2><p>声明类成员或方法为 static，就可以不实例化类而直接访问。不能通过一个对象来访问其中的静态成员（静态方法除外）。 </p>
<p>由于静态方法不需要通过对象即可调用，所以伪变量 <code>$this</code> 在静态方法中不可用。静态属性不可以由对象通过 <code>-&gt;</code> 操作符来访问。 </p>
<blockquote>
<p>注意：在 PHP7 中通过（::）调用非静态方法会产生一个 E_DEPRECATED 级别的警告，不赞成这样使用，在以后可能会取消对这种用法的支持。 </p>
</blockquote>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/static.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $hi = <span class="string">'Hi'</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $hello = <span class="string">'Hello'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;hi;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">self</span>::$hello;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayWorld</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">" World"</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$obj = <span class="keyword">new</span> Test();</span><br><span class="line">$obj-&gt;sayHi();</span><br><span class="line">$obj-&gt;sayWorld();</span><br><span class="line"></span><br><span class="line">Test::sayHello();</span><br><span class="line">Test::sayWorld();</span><br></pre></td></tr></table></figure>

<p>执行 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php static.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>通过 <code>::</code> 可以执行静态和非静态方法，但是不赞成通过这种方式调用非静态方法，此方式有可能被官方移除，因此上面 <code>sayWorld()</code>，应该通过 <code>(new Test())-&gt;sayWorld()</code> 这种方式调用</li>
<li>静态属性和方法可以通过 <code>self</code> 关键字调用</li>
</ul>
<p>就像其它所有的PHP静态变量一样，静态属性只能被初始化为一个字符值或一个常量，不能使用表达式。 所以你可以把静态属性初始化为整型或数组，但不能指向另一个变量或函数返回值，也不能指向一个对象。 </p>
<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>定义为抽象的类可能无法直接被实例化，任何一个类， 如果它里面至少有一个方法是被声明为抽象的，那么这个类就必须被声明为抽象的。如果类方法被声明为抽象的， 那么其中就不能包括具体的功能实现。</p>
<p><em>Practice</em></p>
<p>编辑 <code>/home/shiyanlou/abstract.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Say</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">($word)</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Speak</span> <span class="keyword">extends</span> <span class="title">Say</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">($word)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Hello $word"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Hi"</span>.PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$s = <span class="keyword">new</span> Speak();</span><br><span class="line">$s-&gt;sayHi();</span><br><span class="line">$s-&gt;sayHello(<span class="string">"World"</span>);</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php abstract.php</span><br></pre></td></tr></table></figure>

<p>从结果可以看出</p>
<ul>
<li>继承一个抽象类的时候，子类必须定义父类中的所有抽象方法。例如，在类 Speak 中移除方法 sayHi()，结果为</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fatal error: Class Speak contains 1 abstract method and must therefore be declared abstract or implement the remaining methods (Say::sayHi)...</span><br></pre></td></tr></table></figure>

<ul>
<li>这些方法的访问控制必须和父类中一样（或者更为宽松）。例如，在类 Speak 中 sayHi() 声明为 protected，则报错</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fatal error: Access level to Speak::sayHi() must be public (as in class Say)...</span><br></pre></td></tr></table></figure>

<ul>
<li>此外方法的调用方式必须匹配，即类型和所需参数数量必须一致。例如，移除抽象方法 sayHello() 中的参数，则</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fatal error: Declaration of Speak::sayHello($word) must be compatible with Say::sayHello()...</span><br></pre></td></tr></table></figure>



<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>使用接口（interface），你可以指定某个类必须实现哪些方法，但不需要定义这些方法的具体内容。我们可以通过 interface 来定义一个接口，就像定义一个标准的类一样，但其中定义所有的方法都是空的。  接口中定义的所有方法都必须是public，这是接口的特性。</p>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><p>要实现一个接口，可以使用 <code>implements</code> 操作符。类中必须实现接口中定义的所有方法，否则会报一个 fatal 错误。如果要实现多个接口，可以用逗号来分隔多个接口的名称。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现多个接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span>, <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>实现多个接口时，接口中的方法不能有重名。</li>
<li>接口也可以继承，通过使用 <code>extends</code> 操作符。</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionB</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><p>接口中也可以定义常量。接口常量和类常量的使用完全相同。 它们都是定值，不能被子类或子接口修改。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">interface A</span><br><span class="line">&#123;</span><br><span class="line">    const B &#x3D; &#39;Interface constant&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 输出接口常量</span><br><span class="line">echo A::B;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 错误写法，因为常量的值不能被修改。接口常量的概念和类常量是一样的。</span><br><span class="line">class C implements A</span><br><span class="line">&#123;</span><br><span class="line">    const B &#x3D; &#39;Class constant&#39;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h2><p>php7支持通过new class 来实例化一个匿名类，这可以用来替代一些“用后即焚”的完整类定义。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(string $msg)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> $logger;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getLogger</span><span class="params">()</span>: <span class="title">Logger</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;logger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setLogger</span><span class="params">(Logger $logger)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">$this</span>-&gt;logger = $logger;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$app = <span class="keyword">new</span> Application;</span><br><span class="line">$app-&gt;setLogger(<span class="keyword">new</span> <span class="class"><span class="keyword">class</span> <span class="keyword">implements</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(string $msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> $msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var_dump($app-&gt;getLogger());</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上例程会输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">object(class@anonymous)#2 (0) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/ia_10007.jpg" alt="algae's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        alage@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>algae
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==", true)</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":145,"height":315},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7},"log":false});</script></body>
    
</html>






<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>


<!--单击显示文字-->
<script type="text/javascript" src="/js/click_show_text.js"></script>


<!-- 点击烟花爆炸效果 -->
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>


<!--浏览器搞笑标题-->
<script type="text/javascript" src="/js/FunnyTitle.js"></script>


<!--动态线条背景-->
<script type="text/javascript"
color="220,220,220" opacity='1' zIndex="-2" count="300" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>


<!-- 样式一（鼠标点击更换样式） -->
<!-- <script src="js/ribbon.min.js" type="text/javascript"></script> -->
<!-- 样式二（飘动的彩带） -->
<script src="js/ribbon.piao.js" type="text/javascript"></script>
